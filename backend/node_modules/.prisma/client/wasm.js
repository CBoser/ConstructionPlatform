
/* !!! This is code generated by Prisma. Do not edit directly. !!!
/* eslint-disable */
// biome-ignore-all lint: generated file

Object.defineProperty(exports, "__esModule", { value: true });

const {
  PrismaClientKnownRequestError,
  PrismaClientUnknownRequestError,
  PrismaClientRustPanicError,
  PrismaClientInitializationError,
  PrismaClientValidationError,
  getPrismaClient,
  sqltag,
  empty,
  join,
  raw,
  skip,
  Decimal,
  Debug,
  objectEnumValues,
  makeStrictEnum,
  Extensions,
  warnOnce,
  defineDmmfProperty,
  Public,
  getRuntime,
  createParam,
} = require('@prisma/client/runtime/wasm-engine-edge.js')


const Prisma = {}

exports.Prisma = Prisma
exports.$Enums = {}

/**
 * Prisma Client JS version: 6.19.0
 * Query Engine version: 2ba551f319ab1df4bc874a89965d8b3641056773
 */
Prisma.prismaVersion = {
  client: "6.19.0",
  engine: "2ba551f319ab1df4bc874a89965d8b3641056773"
}

Prisma.PrismaClientKnownRequestError = PrismaClientKnownRequestError;
Prisma.PrismaClientUnknownRequestError = PrismaClientUnknownRequestError
Prisma.PrismaClientRustPanicError = PrismaClientRustPanicError
Prisma.PrismaClientInitializationError = PrismaClientInitializationError
Prisma.PrismaClientValidationError = PrismaClientValidationError
Prisma.Decimal = Decimal

/**
 * Re-export of sql-template-tag
 */
Prisma.sql = sqltag
Prisma.empty = empty
Prisma.join = join
Prisma.raw = raw
Prisma.validator = Public.validator

/**
* Extensions
*/
Prisma.getExtensionContext = Extensions.getExtensionContext
Prisma.defineExtension = Extensions.defineExtension

/**
 * Shorthand utilities for JSON filtering
 */
Prisma.DbNull = objectEnumValues.instances.DbNull
Prisma.JsonNull = objectEnumValues.instances.JsonNull
Prisma.AnyNull = objectEnumValues.instances.AnyNull

Prisma.NullTypes = {
  DbNull: objectEnumValues.classes.DbNull,
  JsonNull: objectEnumValues.classes.JsonNull,
  AnyNull: objectEnumValues.classes.AnyNull
}





/**
 * Enums
 */
exports.Prisma.TransactionIsolationLevel = makeStrictEnum({
  ReadUncommitted: 'ReadUncommitted',
  ReadCommitted: 'ReadCommitted',
  RepeatableRead: 'RepeatableRead',
  Serializable: 'Serializable'
});

exports.Prisma.UserScalarFieldEnum = {
  id: 'id',
  email: 'email',
  passwordHash: 'passwordHash',
  firstName: 'firstName',
  lastName: 'lastName',
  role: 'role',
  isActive: 'isActive',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.CustomerScalarFieldEnum = {
  id: 'id',
  customerName: 'customerName',
  customerType: 'customerType',
  pricingTier: 'pricingTier',
  primaryContactId: 'primaryContactId',
  isActive: 'isActive',
  notes: 'notes',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt',
  billToId: 'billToId',
  customerId: 'customerId',
  salesId: 'salesId',
  salespersonName: 'salespersonName',
  locationCode: 'locationCode',
  accountType: 'accountType'
};

exports.Prisma.CustomerContactScalarFieldEnum = {
  id: 'id',
  customerId: 'customerId',
  contactName: 'contactName',
  role: 'role',
  email: 'email',
  phone: 'phone',
  receivesNotifications: 'receivesNotifications',
  isPrimary: 'isPrimary',
  createdAt: 'createdAt'
};

exports.Prisma.CustomerPricingTierScalarFieldEnum = {
  id: 'id',
  customerId: 'customerId',
  dartCategory: 'dartCategory',
  dartCategoryName: 'dartCategoryName',
  tier: 'tier',
  tierName: 'tierName',
  discountPercentage: 'discountPercentage',
  effectiveDate: 'effectiveDate',
  expirationDate: 'expirationDate',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.CustomerExternalIdScalarFieldEnum = {
  id: 'id',
  customerId: 'customerId',
  externalSystem: 'externalSystem',
  externalCustomerId: 'externalCustomerId',
  externalCustomerName: 'externalCustomerName',
  isPrimary: 'isPrimary',
  createdAt: 'createdAt'
};

exports.Prisma.CustomerPricingScalarFieldEnum = {
  id: 'id',
  customerId: 'customerId',
  materialId: 'materialId',
  overridePrice: 'overridePrice',
  overrideMargin: 'overrideMargin',
  discountPercentage: 'discountPercentage',
  effectiveDate: 'effectiveDate',
  expiresAt: 'expiresAt',
  notes: 'notes',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.PlanScalarFieldEnum = {
  id: 'id',
  code: 'code',
  name: 'name',
  customerPlanCode: 'customerPlanCode',
  builderId: 'builderId',
  type: 'type',
  sqft: 'sqft',
  bedrooms: 'bedrooms',
  bathrooms: 'bathrooms',
  garage: 'garage',
  style: 'style',
  version: 'version',
  isActive: 'isActive',
  pdssUrl: 'pdssUrl',
  notes: 'notes',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.PlanElevationScalarFieldEnum = {
  id: 'id',
  planId: 'planId',
  code: 'code',
  name: 'name',
  description: 'description',
  imageUrl: 'imageUrl',
  architectDesigner: 'architectDesigner',
  architectDesignerDate: 'architectDesignerDate',
  structuralEngineer: 'structuralEngineer',
  structuralEngineerDate: 'structuralEngineerDate',
  iJoistCompany: 'iJoistCompany',
  iJoistCompanyDate: 'iJoistCompanyDate',
  floorTrussCompany: 'floorTrussCompany',
  floorTrussCompanyDate: 'floorTrussCompanyDate',
  roofTrussCompany: 'roofTrussCompany',
  roofTrussCompanyDate: 'roofTrussCompanyDate',
  customDetails: 'customDetails',
  currentVersion: 'currentVersion',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.ElevationVersionScalarFieldEnum = {
  id: 'id',
  elevationId: 'elevationId',
  version: 'version',
  changeNotes: 'changeNotes',
  changedBy: 'changedBy',
  architectDesigner: 'architectDesigner',
  architectDesignerDate: 'architectDesignerDate',
  structuralEngineer: 'structuralEngineer',
  structuralEngineerDate: 'structuralEngineerDate',
  iJoistCompany: 'iJoistCompany',
  iJoistCompanyDate: 'iJoistCompanyDate',
  floorTrussCompany: 'floorTrussCompany',
  floorTrussCompanyDate: 'floorTrussCompanyDate',
  roofTrussCompany: 'roofTrussCompany',
  roofTrussCompanyDate: 'roofTrussCompanyDate',
  customDetails: 'customDetails',
  createdAt: 'createdAt'
};

exports.Prisma.PlanOptionScalarFieldEnum = {
  id: 'id',
  code: 'code',
  name: 'name',
  description: 'description',
  category: 'category',
  basePrice: 'basePrice',
  triggersPacks: 'triggersPacks',
  appliesTo: 'appliesTo',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.PlanAssignedOptionScalarFieldEnum = {
  id: 'id',
  planId: 'planId',
  elevationId: 'elevationId',
  name: 'name',
  description: 'description',
  category: 'category',
  estimatedCost: 'estimatedCost',
  notes: 'notes',
  isStandard: 'isStandard',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.PlanDocumentScalarFieldEnum = {
  id: 'id',
  planId: 'planId',
  elevationId: 'elevationId',
  fileName: 'fileName',
  fileType: 'fileType',
  filePath: 'filePath',
  fileSize: 'fileSize',
  mimeType: 'mimeType',
  version: 'version',
  documentDate: 'documentDate',
  isArchived: 'isArchived',
  archiveDate: 'archiveDate',
  archiveNotes: 'archiveNotes',
  changeNotes: 'changeNotes',
  replacedById: 'replacedById',
  uploadedBy: 'uploadedBy',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.PlanTemplateItemScalarFieldEnum = {
  id: 'id',
  planId: 'planId',
  materialId: 'materialId',
  quantity: 'quantity',
  unit: 'unit',
  wasteFactor: 'wasteFactor',
  category: 'category',
  subcategory: 'subcategory',
  averageVariance: 'averageVariance',
  varianceCount: 'varianceCount',
  lastVarianceDate: 'lastVarianceDate',
  confidenceScore: 'confidenceScore',
  notes: 'notes',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.MaterialScalarFieldEnum = {
  id: 'id',
  sku: 'sku',
  description: 'description',
  category: 'category',
  subcategory: 'subcategory',
  dartCategory: 'dartCategory',
  dartCategoryName: 'dartCategoryName',
  unitOfMeasure: 'unitOfMeasure',
  vendorCost: 'vendorCost',
  freight: 'freight',
  isRLLinked: 'isRLLinked',
  rlTag: 'rlTag',
  rlBasePrice: 'rlBasePrice',
  rlLastUpdated: 'rlLastUpdated',
  lengthAdders: 'lengthAdders',
  gradeMultipliers: 'gradeMultipliers',
  isActive: 'isActive',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt',
  vendorId: 'vendorId'
};

exports.Prisma.VendorScalarFieldEnum = {
  id: 'id',
  name: 'name',
  code: 'code',
  primaryContact: 'primaryContact',
  email: 'email',
  phone: 'phone',
  paymentTerms: 'paymentTerms',
  leadTimeDays: 'leadTimeDays',
  isActive: 'isActive',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.PricingHistoryScalarFieldEnum = {
  id: 'id',
  materialId: 'materialId',
  baseVendorCost: 'baseVendorCost',
  commodityAdjustment: 'commodityAdjustment',
  freight: 'freight',
  totalCost: 'totalCost',
  marginPercentage: 'marginPercentage',
  marginAmount: 'marginAmount',
  unitPrice: 'unitPrice',
  calculationSteps: 'calculationSteps',
  effectiveDate: 'effectiveDate',
  expiresAt: 'expiresAt',
  createdAt: 'createdAt'
};

exports.Prisma.RandomLengthsPricingScalarFieldEnum = {
  id: 'id',
  tag: 'tag',
  description: 'description',
  price: 'price',
  unit: 'unit',
  region: 'region',
  grade: 'grade',
  effectiveDate: 'effectiveDate',
  source: 'source',
  createdAt: 'createdAt'
};

exports.Prisma.PriceRevisionScalarFieldEnum = {
  id: 'id',
  materialId: 'materialId',
  revisionNumber: 'revisionNumber',
  revisionType: 'revisionType',
  tierPrices: 'tierPrices',
  vendorCost: 'vendorCost',
  freight: 'freight',
  commodityFactor: 'commodityFactor',
  baseMargin: 'baseMargin',
  effectiveDate: 'effectiveDate',
  expiresAt: 'expiresAt',
  changedBy: 'changedBy',
  changeReason: 'changeReason',
  notes: 'notes',
  batImportDate: 'batImportDate',
  batFileName: 'batFileName',
  createdAt: 'createdAt'
};

exports.Prisma.CommunityScalarFieldEnum = {
  id: 'id',
  name: 'name',
  customerId: 'customerId',
  shippingYard: 'shippingYard',
  jurisdiction: 'jurisdiction',
  region: 'region',
  activePlans: 'activePlans',
  isActive: 'isActive',
  specialRequirements: 'specialRequirements',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.LotScalarFieldEnum = {
  id: 'id',
  communityId: 'communityId',
  lotNumber: 'lotNumber',
  status: 'status',
  sqft: 'sqft',
  frontage: 'frontage',
  depth: 'depth',
  notes: 'notes',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.JobScalarFieldEnum = {
  id: 'id',
  jobNumber: 'jobNumber',
  customerId: 'customerId',
  planId: 'planId',
  elevationId: 'elevationId',
  communityId: 'communityId',
  lotId: 'lotId',
  status: 'status',
  estimatedCost: 'estimatedCost',
  actualCost: 'actualCost',
  margin: 'margin',
  createdById: 'createdById',
  approvedById: 'approvedById',
  approvedAt: 'approvedAt',
  startDate: 'startDate',
  completionDate: 'completionDate',
  notes: 'notes',
  folderPath: 'folderPath',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.JobOptionScalarFieldEnum = {
  id: 'id',
  jobId: 'jobId',
  optionId: 'optionId',
  quantity: 'quantity',
  price: 'price',
  createdAt: 'createdAt'
};

exports.Prisma.TakeoffScalarFieldEnum = {
  id: 'id',
  jobId: 'jobId',
  status: 'status',
  isValidated: 'isValidated',
  validatedAt: 'validatedAt',
  validationResults: 'validationResults',
  totalEstimated: 'totalEstimated',
  totalActual: 'totalActual',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.TakeoffLineItemScalarFieldEnum = {
  id: 'id',
  takeoffId: 'takeoffId',
  materialId: 'materialId',
  quantityEstimated: 'quantityEstimated',
  quantityActual: 'quantityActual',
  unit: 'unit',
  unitPrice: 'unitPrice',
  totalEstimated: 'totalEstimated',
  totalActual: 'totalActual',
  variance: 'variance',
  variancePercent: 'variancePercent',
  varianceReason: 'varianceReason',
  category: 'category',
  subcategory: 'subcategory',
  notes: 'notes',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.TakeoffValidationScalarFieldEnum = {
  id: 'id',
  takeoffId: 'takeoffId',
  specCompliant: 'specCompliant',
  pricingCurrent: 'pricingCurrent',
  varianceAcceptable: 'varianceAcceptable',
  issues: 'issues',
  warnings: 'warnings',
  comparedToJobs: 'comparedToJobs',
  avgVariance: 'avgVariance',
  validatedAt: 'validatedAt'
};

exports.Prisma.PurchaseOrderScalarFieldEnum = {
  id: 'id',
  poNumber: 'poNumber',
  jobId: 'jobId',
  vendorId: 'vendorId',
  status: 'status',
  totalAmount: 'totalAmount',
  approvedAt: 'approvedAt',
  sentAt: 'sentAt',
  confirmedAt: 'confirmedAt',
  deliveredAt: 'deliveredAt',
  scheduledDelivery: 'scheduledDelivery',
  actualDelivery: 'actualDelivery',
  deliveryNotes: 'deliveryNotes',
  hyphenBuildProId: 'hyphenBuildProId',
  holtPortalId: 'holtPortalId',
  signatureUrl: 'signatureUrl',
  photoUrls: 'photoUrls',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.VariancePatternScalarFieldEnum = {
  id: 'id',
  scope: 'scope',
  planId: 'planId',
  communityId: 'communityId',
  customerId: 'customerId',
  region: 'region',
  materialCategory: 'materialCategory',
  subcategory: 'subcategory',
  sampleSize: 'sampleSize',
  avgVariance: 'avgVariance',
  stdDeviation: 'stdDeviation',
  confidenceScore: 'confidenceScore',
  recommendedAdjustment: 'recommendedAdjustment',
  reasoning: 'reasoning',
  status: 'status',
  reviewedAt: 'reviewedAt',
  appliedAt: 'appliedAt',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.VarianceReviewScalarFieldEnum = {
  id: 'id',
  patternId: 'patternId',
  reviewerId: 'reviewerId',
  decision: 'decision',
  notes: 'notes',
  reviewedAt: 'reviewedAt'
};

exports.Prisma.NotificationScalarFieldEnum = {
  id: 'id',
  userId: 'userId',
  type: 'type',
  title: 'title',
  message: 'message',
  actionUrl: 'actionUrl',
  isRead: 'isRead',
  readAt: 'readAt',
  createdAt: 'createdAt'
};

exports.Prisma.AuditLogScalarFieldEnum = {
  id: 'id',
  userId: 'userId',
  action: 'action',
  entityType: 'entityType',
  entityId: 'entityId',
  changes: 'changes',
  ipAddress: 'ipAddress',
  userAgent: 'userAgent',
  createdAt: 'createdAt'
};

exports.Prisma.PortalOrderScalarFieldEnum = {
  id: 'id',
  externalId: 'externalId',
  portal: 'portal',
  orderType: 'orderType',
  category: 'category',
  status: 'status',
  amount: 'amount',
  description: 'description',
  dueDate: 'dueDate',
  completedAt: 'completedAt',
  customerId: 'customerId',
  communityId: 'communityId',
  lotNumber: 'lotNumber',
  rawData: 'rawData',
  syncedAt: 'syncedAt',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.PortalDocumentScalarFieldEnum = {
  id: 'id',
  externalId: 'externalId',
  portal: 'portal',
  filename: 'filename',
  docType: 'docType',
  fileUrl: 'fileUrl',
  fileSize: 'fileSize',
  customerId: 'customerId',
  communityId: 'communityId',
  planId: 'planId',
  lotNumber: 'lotNumber',
  status: 'status',
  processedAt: 'processedAt',
  syncedAt: 'syncedAt',
  createdAt: 'createdAt'
};

exports.Prisma.SystemAlertScalarFieldEnum = {
  id: 'id',
  alertType: 'alertType',
  source: 'source',
  title: 'title',
  message: 'message',
  details: 'details',
  actionUrl: 'actionUrl',
  customerId: 'customerId',
  communityId: 'communityId',
  orderId: 'orderId',
  isRead: 'isRead',
  isDismissed: 'isDismissed',
  readAt: 'readAt',
  createdAt: 'createdAt'
};

exports.Prisma.ActivityLogScalarFieldEnum = {
  id: 'id',
  activityType: 'activityType',
  title: 'title',
  detail: 'detail',
  amount: 'amount',
  icon: 'icon',
  userId: 'userId',
  customerId: 'customerId',
  orderId: 'orderId',
  createdAt: 'createdAt'
};

exports.Prisma.DeliveryScheduleScalarFieldEnum = {
  id: 'id',
  portal: 'portal',
  orderId: 'orderId',
  scheduledTime: 'scheduledTime',
  title: 'title',
  location: 'location',
  status: 'status',
  communityId: 'communityId',
  lotNumber: 'lotNumber',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.PortalSyncLogScalarFieldEnum = {
  id: 'id',
  portal: 'portal',
  syncType: 'syncType',
  status: 'status',
  itemsFound: 'itemsFound',
  itemsProcessed: 'itemsProcessed',
  errors: 'errors',
  startedAt: 'startedAt',
  completedAt: 'completedAt'
};

exports.Prisma.PDSSDocumentRequirementScalarFieldEnum = {
  id: 'id',
  customerId: 'customerId',
  docType: 'docType',
  docName: 'docName',
  isRequired: 'isRequired',
  description: 'description',
  requiredByPhase: 'requiredByPhase',
  daysBeforeStart: 'daysBeforeStart',
  sortOrder: 'sortOrder',
  isActive: 'isActive',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.PDSSPlanStatusScalarFieldEnum = {
  id: 'id',
  planId: 'planId',
  elevationId: 'elevationId',
  planStatus: 'planStatus',
  takeoffStatus: 'takeoffStatus',
  quoteStatus: 'quoteStatus',
  documentsComplete: 'documentsComplete',
  documentCount: 'documentCount',
  assignedToId: 'assignedToId',
  priority: 'priority',
  dueDate: 'dueDate',
  notes: 'notes',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.PDSSJobStatusScalarFieldEnum = {
  id: 'id',
  jobId: 'jobId',
  planStatus: 'planStatus',
  takeoffStatus: 'takeoffStatus',
  quoteStatus: 'quoteStatus',
  documentsComplete: 'documentsComplete',
  missingDocuments: 'missingDocuments',
  assignedToId: 'assignedToId',
  priority: 'priority',
  dueDate: 'dueDate',
  alertsSent: 'alertsSent',
  lastAlertAt: 'lastAlertAt',
  notes: 'notes',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.PDSSDocumentStatusScalarFieldEnum = {
  id: 'id',
  requirementId: 'requirementId',
  planStatusId: 'planStatusId',
  status: 'status',
  receivedAt: 'receivedAt',
  verifiedAt: 'verifiedAt',
  verifiedById: 'verifiedById',
  documentUrl: 'documentUrl',
  documentVersion: 'documentVersion',
  notes: 'notes',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.MaterialClassScalarFieldEnum = {
  id: 'id',
  classCode: 'classCode',
  className: 'className',
  description: 'description',
  sortOrder: 'sortOrder',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.PhaseOptionDefinitionScalarFieldEnum = {
  id: 'id',
  phaseCode: 'phaseCode',
  phaseName: 'phaseName',
  isBasePhase: 'isBasePhase',
  isOption: 'isOption',
  isAlphaVariant: 'isAlphaVariant',
  materialClassId: 'materialClassId',
  shippingOrder: 'shippingOrder',
  description: 'description',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.RichmondOptionCodeScalarFieldEnum = {
  id: 'id',
  optionCode: 'optionCode',
  optionDescription: 'optionDescription',
  phaseId: 'phaseId',
  isMultiPhase: 'isMultiPhase',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.Layer1CodeScalarFieldEnum = {
  id: 'id',
  planCode: 'planCode',
  phaseOptionId: 'phaseOptionId',
  materialClassId: 'materialClassId',
  fullCode: 'fullCode',
  richmondPackId: 'richmondPackId',
  packName: 'packName',
  itemNo: 'itemNo',
  itemType: 'itemType',
  shippingOrder: 'shippingOrder',
  description: 'description',
  estimatedPrice: 'estimatedPrice',
  estimatedCost: 'estimatedCost',
  isActive: 'isActive',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.Layer1CodeElevationScalarFieldEnum = {
  id: 'id',
  layer1CodeId: 'layer1CodeId',
  elevationCode: 'elevationCode',
  createdAt: 'createdAt'
};

exports.Prisma.Layer1CodeRichmondOptionScalarFieldEnum = {
  id: 'id',
  layer1CodeId: 'layer1CodeId',
  richmondOptionId: 'richmondOptionId',
  createdAt: 'createdAt'
};

exports.Prisma.Layer2MaterialScalarFieldEnum = {
  id: 'id',
  layer1CodeId: 'layer1CodeId',
  itemCode: 'itemCode',
  itemDescription: 'itemDescription',
  quantity: 'quantity',
  unit: 'unit',
  unitCost: 'unitCost',
  vendorCode: 'vendorCode',
  manufacturerPartNumber: 'manufacturerPartNumber',
  materialId: 'materialId',
  notes: 'notes',
  isActive: 'isActive',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.OptionSuffixScalarFieldEnum = {
  id: 'id',
  suffixCode: 'suffixCode',
  abbreviation: 'abbreviation',
  fullName: 'fullName',
  description: 'description',
  category: 'category',
  isActive: 'isActive',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.FeedbackScalarFieldEnum = {
  id: 'id',
  feedbackType: 'feedbackType',
  category: 'category',
  entityType: 'entityType',
  entityId: 'entityId',
  entityName: 'entityName',
  rating: 'rating',
  estimatedValue: 'estimatedValue',
  actualValue: 'actualValue',
  varianceAmount: 'varianceAmount',
  variancePercent: 'variancePercent',
  title: 'title',
  description: 'description',
  notes: 'notes',
  context: 'context',
  tags: 'tags',
  source: 'source',
  submittedById: 'submittedById',
  status: 'status',
  resolvedById: 'resolvedById',
  resolvedAt: 'resolvedAt',
  actionTaken: 'actionTaken',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.FeedbackResponseScalarFieldEnum = {
  id: 'id',
  feedbackId: 'feedbackId',
  responderId: 'responderId',
  message: 'message',
  isInternal: 'isInternal',
  createdAt: 'createdAt'
};

exports.Prisma.FeedbackPatternScalarFieldEnum = {
  id: 'id',
  patternType: 'patternType',
  patternName: 'patternName',
  description: 'description',
  entityType: 'entityType',
  entityId: 'entityId',
  entityName: 'entityName',
  occurrenceCount: 'occurrenceCount',
  avgVariance: 'avgVariance',
  avgVariancePct: 'avgVariancePct',
  totalImpact: 'totalImpact',
  confidence: 'confidence',
  sampleSize: 'sampleSize',
  recommendation: 'recommendation',
  adjustmentFactor: 'adjustmentFactor',
  isActive: 'isActive',
  isApplied: 'isApplied',
  appliedAt: 'appliedAt',
  appliedById: 'appliedById',
  lastAnalyzedAt: 'lastAnalyzedAt',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.VarianceSummaryScalarFieldEnum = {
  id: 'id',
  periodType: 'periodType',
  periodStart: 'periodStart',
  periodEnd: 'periodEnd',
  entityType: 'entityType',
  entityId: 'entityId',
  entityName: 'entityName',
  totalEstimated: 'totalEstimated',
  totalActual: 'totalActual',
  totalVariance: 'totalVariance',
  variancePercent: 'variancePercent',
  jobCount: 'jobCount',
  overEstimates: 'overEstimates',
  underEstimates: 'underEstimates',
  onTarget: 'onTarget',
  avgVariance: 'avgVariance',
  medianVariance: 'medianVariance',
  stdDevVariance: 'stdDevVariance',
  createdAt: 'createdAt'
};

exports.Prisma.SortOrder = {
  asc: 'asc',
  desc: 'desc'
};

exports.Prisma.NullableJsonNullValueInput = {
  DbNull: Prisma.DbNull,
  JsonNull: Prisma.JsonNull
};

exports.Prisma.JsonNullValueInput = {
  JsonNull: Prisma.JsonNull
};

exports.Prisma.QueryMode = {
  default: 'default',
  insensitive: 'insensitive'
};

exports.Prisma.NullsOrder = {
  first: 'first',
  last: 'last'
};

exports.Prisma.JsonNullValueFilter = {
  DbNull: Prisma.DbNull,
  JsonNull: Prisma.JsonNull,
  AnyNull: Prisma.AnyNull
};
exports.UserRole = exports.$Enums.UserRole = {
  ADMIN: 'ADMIN',
  ESTIMATOR: 'ESTIMATOR',
  PROJECT_MANAGER: 'PROJECT_MANAGER',
  FIELD_USER: 'FIELD_USER',
  VIEWER: 'VIEWER'
};

exports.CustomerType = exports.$Enums.CustomerType = {
  PRODUCTION: 'PRODUCTION',
  SEMI_CUSTOM: 'SEMI_CUSTOM',
  FULL_CUSTOM: 'FULL_CUSTOM'
};

exports.PlanType = exports.$Enums.PlanType = {
  SINGLE_STORY: 'SINGLE_STORY',
  TWO_STORY: 'TWO_STORY',
  THREE_STORY: 'THREE_STORY',
  DUPLEX: 'DUPLEX',
  TOWNHOME: 'TOWNHOME'
};

exports.OptionCategory = exports.$Enums.OptionCategory = {
  DECK: 'DECK',
  FENCING: 'FENCING',
  ROOM_ADDITION: 'ROOM_ADDITION',
  GARAGE: 'GARAGE',
  PATIO: 'PATIO',
  STRUCTURAL: 'STRUCTURAL',
  FINISH: 'FINISH',
  OTHER: 'OTHER'
};

exports.DocumentType = exports.$Enums.DocumentType = {
  PLAN_DRAWING: 'PLAN_DRAWING',
  ELEVATION_DRAWING: 'ELEVATION_DRAWING',
  SPECIFICATIONS: 'SPECIFICATIONS',
  MATERIAL_LIST: 'MATERIAL_LIST',
  PRICING_SHEET: 'PRICING_SHEET',
  OPTION_DETAILS: 'OPTION_DETAILS',
  OTHER: 'OTHER'
};

exports.MaterialCategory = exports.$Enums.MaterialCategory = {
  DIMENSIONAL_LUMBER: 'DIMENSIONAL_LUMBER',
  ENGINEERED_LUMBER: 'ENGINEERED_LUMBER',
  SHEATHING: 'SHEATHING',
  PRESSURE_TREATED: 'PRESSURE_TREATED',
  HARDWARE: 'HARDWARE',
  CONCRETE: 'CONCRETE',
  ROOFING: 'ROOFING',
  SIDING: 'SIDING',
  INSULATION: 'INSULATION',
  DRYWALL: 'DRYWALL',
  OTHER: 'OTHER'
};

exports.LotStatus = exports.$Enums.LotStatus = {
  AVAILABLE: 'AVAILABLE',
  RESERVED: 'RESERVED',
  SOLD: 'SOLD',
  IN_PROGRESS: 'IN_PROGRESS',
  COMPLETED: 'COMPLETED'
};

exports.JobStatus = exports.$Enums.JobStatus = {
  DRAFT: 'DRAFT',
  PENDING_APPROVAL: 'PENDING_APPROVAL',
  ESTIMATED: 'ESTIMATED',
  APPROVED: 'APPROVED',
  IN_PROGRESS: 'IN_PROGRESS',
  ON_HOLD: 'ON_HOLD',
  COMPLETED: 'COMPLETED',
  CANCELLED: 'CANCELLED'
};

exports.TakeoffStatus = exports.$Enums.TakeoffStatus = {
  DRAFT: 'DRAFT',
  IN_REVIEW: 'IN_REVIEW',
  VALIDATED: 'VALIDATED',
  APPROVED: 'APPROVED',
  ORDERED: 'ORDERED',
  DELIVERED: 'DELIVERED'
};

exports.POStatus = exports.$Enums.POStatus = {
  DRAFT: 'DRAFT',
  APPROVED: 'APPROVED',
  SENT: 'SENT',
  CONFIRMED: 'CONFIRMED',
  DELIVERED: 'DELIVERED',
  CANCELLED: 'CANCELLED'
};

exports.VarianceScope = exports.$Enums.VarianceScope = {
  PLAN_SPECIFIC: 'PLAN_SPECIFIC',
  CROSS_PLAN: 'CROSS_PLAN',
  COMMUNITY: 'COMMUNITY',
  BUILDER: 'BUILDER',
  REGIONAL: 'REGIONAL'
};

exports.PatternStatus = exports.$Enums.PatternStatus = {
  DETECTED: 'DETECTED',
  UNDER_REVIEW: 'UNDER_REVIEW',
  APPROVED: 'APPROVED',
  APPLIED: 'APPLIED',
  REJECTED: 'REJECTED'
};

exports.ReviewDecision = exports.$Enums.ReviewDecision = {
  APPROVE: 'APPROVE',
  REJECT: 'REJECT',
  NEEDS_MORE_DATA: 'NEEDS_MORE_DATA',
  ESCALATE: 'ESCALATE'
};

exports.NotificationType = exports.$Enums.NotificationType = {
  JOB_CREATED: 'JOB_CREATED',
  JOB_APPROVED: 'JOB_APPROVED',
  PO_APPROVED: 'PO_APPROVED',
  DELIVERY_SCHEDULED: 'DELIVERY_SCHEDULED',
  DELIVERY_LATE: 'DELIVERY_LATE',
  VARIANCE_DETECTED: 'VARIANCE_DETECTED',
  PATTERN_REVIEW_REQUIRED: 'PATTERN_REVIEW_REQUIRED',
  SYSTEM_ALERT: 'SYSTEM_ALERT'
};

exports.PDSSStatus = exports.$Enums.PDSSStatus = {
  NEW: 'NEW',
  IN_PROGRESS: 'IN_PROGRESS',
  COMPLETE: 'COMPLETE',
  ON_HOLD: 'ON_HOLD',
  ARCHIVED: 'ARCHIVED'
};

exports.PDSSTakeoffStatus = exports.$Enums.PDSSTakeoffStatus = {
  NOT_STARTED: 'NOT_STARTED',
  IN_PROGRESS: 'IN_PROGRESS',
  PENDING_REVIEW: 'PENDING_REVIEW',
  COMPLETE: 'COMPLETE'
};

exports.PDSSQuoteStatus = exports.$Enums.PDSSQuoteStatus = {
  NOT_STARTED: 'NOT_STARTED',
  DRAFT: 'DRAFT',
  SENT: 'SENT',
  APPROVED: 'APPROVED',
  REJECTED: 'REJECTED'
};

exports.PDSSPriority = exports.$Enums.PDSSPriority = {
  CRITICAL: 'CRITICAL',
  HIGH: 'HIGH',
  MEDIUM: 'MEDIUM',
  LOW: 'LOW'
};

exports.DocumentReceiptStatus = exports.$Enums.DocumentReceiptStatus = {
  PENDING: 'PENDING',
  RECEIVED: 'RECEIVED',
  VERIFIED: 'VERIFIED',
  REJECTED: 'REJECTED',
  SUPERSEDED: 'SUPERSEDED'
};

exports.FeedbackType = exports.$Enums.FeedbackType = {
  VARIANCE_REPORT: 'VARIANCE_REPORT',
  QUALITY_ISSUE: 'QUALITY_ISSUE',
  PROCESS_FAILURE: 'PROCESS_FAILURE',
  SUGGESTION: 'SUGGESTION',
  CORRECTION: 'CORRECTION',
  THUMBS_UP: 'THUMBS_UP',
  THUMBS_DOWN: 'THUMBS_DOWN'
};

exports.FeedbackCategory = exports.$Enums.FeedbackCategory = {
  MATERIAL: 'MATERIAL',
  TIMING: 'TIMING',
  DOCUMENT: 'DOCUMENT',
  ESTIMATE: 'ESTIMATE',
  IMPORT: 'IMPORT',
  AGENT: 'AGENT',
  UI_UX: 'UI_UX',
  OTHER: 'OTHER'
};

exports.FeedbackStatus = exports.$Enums.FeedbackStatus = {
  NEW: 'NEW',
  REVIEWED: 'REVIEWED',
  IN_PROGRESS: 'IN_PROGRESS',
  RESOLVED: 'RESOLVED',
  DISMISSED: 'DISMISSED',
  DEFERRED: 'DEFERRED'
};

exports.Prisma.ModelName = {
  User: 'User',
  Customer: 'Customer',
  CustomerContact: 'CustomerContact',
  CustomerPricingTier: 'CustomerPricingTier',
  CustomerExternalId: 'CustomerExternalId',
  CustomerPricing: 'CustomerPricing',
  Plan: 'Plan',
  PlanElevation: 'PlanElevation',
  ElevationVersion: 'ElevationVersion',
  PlanOption: 'PlanOption',
  PlanAssignedOption: 'PlanAssignedOption',
  PlanDocument: 'PlanDocument',
  PlanTemplateItem: 'PlanTemplateItem',
  Material: 'Material',
  Vendor: 'Vendor',
  PricingHistory: 'PricingHistory',
  RandomLengthsPricing: 'RandomLengthsPricing',
  PriceRevision: 'PriceRevision',
  Community: 'Community',
  Lot: 'Lot',
  Job: 'Job',
  JobOption: 'JobOption',
  Takeoff: 'Takeoff',
  TakeoffLineItem: 'TakeoffLineItem',
  TakeoffValidation: 'TakeoffValidation',
  PurchaseOrder: 'PurchaseOrder',
  VariancePattern: 'VariancePattern',
  VarianceReview: 'VarianceReview',
  Notification: 'Notification',
  AuditLog: 'AuditLog',
  PortalOrder: 'PortalOrder',
  PortalDocument: 'PortalDocument',
  SystemAlert: 'SystemAlert',
  ActivityLog: 'ActivityLog',
  DeliverySchedule: 'DeliverySchedule',
  PortalSyncLog: 'PortalSyncLog',
  PDSSDocumentRequirement: 'PDSSDocumentRequirement',
  PDSSPlanStatus: 'PDSSPlanStatus',
  PDSSJobStatus: 'PDSSJobStatus',
  PDSSDocumentStatus: 'PDSSDocumentStatus',
  MaterialClass: 'MaterialClass',
  PhaseOptionDefinition: 'PhaseOptionDefinition',
  RichmondOptionCode: 'RichmondOptionCode',
  Layer1Code: 'Layer1Code',
  Layer1CodeElevation: 'Layer1CodeElevation',
  Layer1CodeRichmondOption: 'Layer1CodeRichmondOption',
  Layer2Material: 'Layer2Material',
  OptionSuffix: 'OptionSuffix',
  Feedback: 'Feedback',
  FeedbackResponse: 'FeedbackResponse',
  FeedbackPattern: 'FeedbackPattern',
  VarianceSummary: 'VarianceSummary'
};
/**
 * Create the Client
 */
const config = {
  "generator": {
    "name": "client",
    "provider": {
      "fromEnvVar": null,
      "value": "prisma-client-js"
    },
    "output": {
      "value": "C:\\GitHub\\ConstructionPlatform\\backend\\node_modules\\@prisma\\client",
      "fromEnvVar": null
    },
    "config": {
      "engineType": "library"
    },
    "binaryTargets": [
      {
        "fromEnvVar": null,
        "value": "windows",
        "native": true
      },
      {
        "fromEnvVar": null,
        "value": "debian-openssl-3.0.x"
      },
      {
        "fromEnvVar": null,
        "value": "windows"
      }
    ],
    "previewFeatures": [],
    "sourceFilePath": "C:\\GitHub\\ConstructionPlatform\\backend\\prisma\\schema.prisma"
  },
  "relativeEnvPaths": {
    "rootEnvPath": null,
    "schemaEnvPath": "../../../.env"
  },
  "relativePath": "../../../prisma",
  "clientVersion": "6.19.0",
  "engineVersion": "2ba551f319ab1df4bc874a89965d8b3641056773",
  "datasourceNames": [
    "db"
  ],
  "activeProvider": "postgresql",
  "postinstall": false,
  "inlineDatasources": {
    "db": {
      "url": {
        "fromEnvVar": "DATABASE_URL",
        "value": null
      }
    }
  },
  "inlineSchema": "// MindFlow Platform - Database Schema\n// Foundation Layer: Core business data with variance tracking hooks\n\ngenerator client {\n  provider      = \"prisma-client-js\"\n  binaryTargets = [\"native\", \"debian-openssl-3.0.x\", \"windows\"]\n}\n\ndatasource db {\n  provider = \"postgresql\"\n  url      = env(\"DATABASE_URL\")\n}\n\n// ============================================================================\n// AUTHENTICATION & AUTHORIZATION\n// ============================================================================\n\nmodel User {\n  id           String   @id @default(uuid())\n  email        String   @unique\n  passwordHash String   @map(\"password_hash\") // Bcrypt hashed password\n  firstName    String?  @map(\"first_name\")\n  lastName     String?  @map(\"last_name\")\n  role         UserRole @default(ESTIMATOR)\n  isActive     Boolean  @default(true)\n  createdAt    DateTime @default(now())\n  updatedAt    DateTime @updatedAt\n\n  // Relationships\n  createdJobs      Job[]            @relation(\"JobCreator\")\n  approvedJobs     Job[]            @relation(\"JobApprover\")\n  auditLogs        AuditLog[]\n  notifications    Notification[]\n  varianceReviews  VarianceReview[]\n  activityLogs     ActivityLog[]\n  pdssPlanAssigned PDSSPlanStatus[] // PDSS plans assigned to this user\n  pdssJobAssigned  PDSSJobStatus[] // PDSS jobs assigned to this user\n\n  // Feedback relations\n  feedbackSubmitted Feedback[]         @relation(\"FeedbackSubmitter\")\n  feedbackResolved  Feedback[]         @relation(\"FeedbackResolver\")\n  feedbackResponses FeedbackResponse[]\n\n  @@index([email])\n  @@index([role])\n  @@map(\"users\")\n}\n\nenum UserRole {\n  ADMIN\n  ESTIMATOR\n  PROJECT_MANAGER\n  FIELD_USER\n  VIEWER\n}\n\n// ============================================================================\n// FOUNDATION LAYER: CUSTOMERS\n// ============================================================================\n\nmodel Customer {\n  id               String       @id @default(uuid())\n  customerName     String       @map(\"customer_name\")\n  customerType     CustomerType @map(\"customer_type\")\n  pricingTier      String?      @map(\"pricing_tier\") // Legacy field, superseded by pricingTiers relation\n  primaryContactId String?      @map(\"primary_contact_id\")\n  isActive         Boolean      @default(true) @map(\"is_active\")\n  notes            String?\n  createdAt        DateTime     @default(now()) @map(\"created_at\")\n  updatedAt        DateTime     @updatedAt @map(\"updated_at\")\n\n  // BAT System Integration Fields\n  billToId        String? @unique @map(\"bill_to_id\") // Primary BAT identifier (e.g., 655352)\n  customerId      String? @unique @map(\"customer_id_bat\") // Secondary ERP ID (e.g., 662662)\n  salesId         String? @map(\"sales_id\") // Salesperson ID (e.g., P761647)\n  salespersonName String? @map(\"salesperson_name\") // e.g., \"COREY BOSER\"\n  locationCode    String? @map(\"location_code\") // e.g., CLACORAD, FOGRORYD\n  accountType     String? @map(\"account_type\") // M (Master), Q (Quote)\n\n  // Relationships\n  contacts            CustomerContact[]\n  pricingTiers        CustomerPricingTier[]\n  externalIds         CustomerExternalId[]\n  jobs                Job[]\n  communities         Community[]\n  plans               Plan[] // Plans owned by this builder\n  customerPricing     CustomerPricing[]\n  variancePatterns    VariancePattern[]\n  portalOrders        PortalOrder[]\n  portalDocuments     PortalDocument[]\n  systemAlerts        SystemAlert[]\n  activityLogs        ActivityLog[]\n  pdssDocRequirements PDSSDocumentRequirement[]\n\n  @@index([billToId])\n  @@index([locationCode])\n  @@map(\"customers\")\n}\n\nenum CustomerType {\n  PRODUCTION\n  SEMI_CUSTOM\n  FULL_CUSTOM\n}\n\nmodel CustomerContact {\n  id                    String   @id @default(uuid())\n  customerId            String   @map(\"customer_id\")\n  contactName           String   @map(\"contact_name\")\n  role                  String?\n  email                 String?\n  phone                 String?\n  receivesNotifications Boolean  @default(true) @map(\"receives_notifications\")\n  isPrimary             Boolean  @default(false) @map(\"is_primary\")\n  createdAt             DateTime @default(now()) @map(\"created_at\")\n\n  customer Customer @relation(fields: [customerId], references: [id], onDelete: Cascade)\n\n  @@map(\"customer_contacts\")\n}\n\nmodel CustomerPricingTier {\n  id         String @id @default(uuid())\n  customerId String @map(\"customer_id\")\n\n  // DART Category-Based Tiering (BAT System)\n  dartCategory     Int    @default(1) @map(\"dart_category\") // 1-15 (see DartCategory enum for mapping)\n  dartCategoryName String @default(\"01-Lumber\") @map(\"dart_category_name\") // e.g., \"01-Lumber\", \"02-StrctP\"\n  tier             String @default(\"01\") @map(\"tier\") // \"01\"-\"12\" or \"L5\" (Random Lengths)\n\n  // Legacy discount-based pricing (optional)\n  tierName           String?  @map(\"tier_name\")\n  discountPercentage Decimal? @map(\"discount_percentage\") @db.Decimal(5, 2)\n\n  effectiveDate  DateTime  @map(\"effective_date\")\n  expirationDate DateTime? @map(\"expiration_date\")\n  createdAt      DateTime  @default(now()) @map(\"created_at\")\n  updatedAt      DateTime  @default(now()) @updatedAt @map(\"updated_at\")\n\n  customer Customer @relation(fields: [customerId], references: [id], onDelete: Cascade)\n\n  @@unique([customerId, dartCategory, effectiveDate])\n  @@index([customerId])\n  @@index([dartCategory])\n  @@map(\"customer_pricing_tiers\")\n}\n\nmodel CustomerExternalId {\n  id                   String   @id @default(uuid())\n  customerId           String   @map(\"customer_id\")\n  externalSystem       String   @map(\"external_system\")\n  externalCustomerId   String   @map(\"external_customer_id\")\n  externalCustomerName String?  @map(\"external_customer_name\")\n  isPrimary            Boolean  @default(false) @map(\"is_primary\")\n  createdAt            DateTime @default(now()) @map(\"created_at\")\n\n  customer Customer @relation(fields: [customerId], references: [id], onDelete: Cascade)\n\n  @@unique([customerId, externalSystem])\n  @@map(\"customer_external_ids\")\n}\n\n// Customer-specific pricing overrides\nmodel CustomerPricing {\n  id         String @id @default(uuid())\n  customerId String\n  materialId String\n\n  // Override pricing\n  overridePrice      Decimal? @db.Decimal(10, 2)\n  overrideMargin     Decimal? @db.Decimal(5, 2)\n  discountPercentage Decimal? @db.Decimal(5, 2)\n\n  effectiveDate DateTime  @default(now())\n  expiresAt     DateTime?\n  notes         String?\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  customer Customer @relation(fields: [customerId], references: [id], onDelete: Cascade)\n  material Material @relation(fields: [materialId], references: [id], onDelete: Cascade)\n\n  @@unique([customerId, materialId])\n  @@index([customerId])\n  @@index([materialId])\n}\n\n// ============================================================================\n// FOUNDATION LAYER: PLANS\n// ============================================================================\n\nmodel Plan {\n  id               String  @id @default(uuid())\n  code             String  @unique // e.g., \"2400\", \"G21D\"\n  name             String? // Human-readable name\n  customerPlanCode String? @map(\"customer_plan_code\") // Customer's plan code if different from our code\n\n  // Builder/Customer ownership\n  builderId String? @map(\"builder_id\") // Which builder owns this plan\n\n  // Plan Characteristics\n  type      PlanType\n  sqft      Int?\n  bedrooms  Int?\n  bathrooms Decimal? @db.Decimal(3, 1)\n  garage    String? // \"2-Car\", \"3-Car\", etc.\n  style     String? // \"Ranch\", \"Modern\", etc.\n\n  // Version Control\n  version  Int     @default(1)\n  isActive Boolean @default(true)\n\n  // Documentation\n  pdssUrl String? // Plan Design & Specification Sheet URL\n  notes   String? @db.Text\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  // Relationships\n  builder          Customer?            @relation(fields: [builderId], references: [id])\n  elevations       PlanElevation[]\n  options          PlanOption[]\n  assignedOptions  PlanAssignedOption[] // Options assigned to this plan\n  templateItems    PlanTemplateItem[] // BOM template\n  jobs             Job[]\n  variancePatterns VariancePattern[]\n  documents        PlanDocument[] // Uploaded documents\n  portalDocuments  PortalDocument[] // Documents synced from portals\n  pdssStatus       PDSSPlanStatus[] // PDSS tracking for this plan\n\n  @@index([code])\n  @@index([type])\n  @@index([isActive])\n  @@index([builderId])\n}\n\nenum PlanType {\n  SINGLE_STORY\n  TWO_STORY\n  THREE_STORY\n  DUPLEX\n  TOWNHOME\n}\n\nmodel PlanElevation {\n  id          String  @id @default(uuid())\n  planId      String\n  code        String // \"A\", \"B\", \"C\", \"D\"\n  name        String? // \"Craftsman\", \"Contemporary\"\n  description String?\n  imageUrl    String?\n\n  // Vendor/Designer Information\n  architectDesigner      String?\n  architectDesignerDate  DateTime?\n  structuralEngineer     String?\n  structuralEngineerDate DateTime?\n  iJoistCompany          String?\n  iJoistCompanyDate      DateTime?\n  floorTrussCompany      String?\n  floorTrussCompanyDate  DateTime?\n  roofTrussCompany       String?\n  roofTrussCompanyDate   DateTime?\n\n  // Custom details (JSON array for flexibility)\n  customDetails Json? // [{ \"label\": \"Other\", \"value\": \"...\", \"date\": \"...\" }]\n\n  // Current version number\n  currentVersion Int @default(1)\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  plan            Plan                 @relation(fields: [planId], references: [id], onDelete: Cascade)\n  jobs            Job[]\n  versionHistory  ElevationVersion[]\n  assignedOptions PlanAssignedOption[] // Options specific to this elevation\n  documents       PlanDocument[] // Uploaded documents specific to this elevation\n  pdssStatus      PDSSPlanStatus[] // PDSS tracking for this elevation\n\n  @@unique([planId, code])\n  @@index([planId])\n}\n\n// Version history for elevation plan changes\nmodel ElevationVersion {\n  id          String  @id @default(uuid())\n  elevationId String\n  version     Int\n  changeNotes String? // Description of what changed\n  changedBy   String? // Who made the change\n\n  // Snapshot of vendor info at this version\n  architectDesigner      String?\n  architectDesignerDate  DateTime?\n  structuralEngineer     String?\n  structuralEngineerDate DateTime?\n  iJoistCompany          String?\n  iJoistCompanyDate      DateTime?\n  floorTrussCompany      String?\n  floorTrussCompanyDate  DateTime?\n  roofTrussCompany       String?\n  roofTrussCompanyDate   DateTime?\n  customDetails          Json?\n\n  createdAt DateTime @default(now())\n\n  elevation PlanElevation @relation(fields: [elevationId], references: [id], onDelete: Cascade)\n\n  @@unique([elevationId, version])\n  @@index([elevationId])\n}\n\nmodel PlanOption {\n  id          String         @id @default(uuid())\n  code        String         @unique // \"DECK-12X12\", \"SUNROOM\"\n  name        String\n  description String?\n  category    OptionCategory\n\n  // Pricing\n  basePrice Decimal @db.Decimal(10, 2)\n\n  // Pack Triggers\n  triggersPacks String[] // Array of pack names this option triggers\n\n  // Applicability\n  appliesTo String[] // Array of plan codes (empty = all plans)\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  // Relationships\n  plans      Plan[]\n  jobOptions JobOption[]\n\n  @@index([code])\n  @@index([category])\n}\n\n// Plan-specific options (assigned options to a specific plan or elevation)\nmodel PlanAssignedOption {\n  id          String  @id @default(uuid())\n  planId      String  @map(\"plan_id\")\n  elevationId String? @map(\"elevation_id\") // null = plan-level, set = elevation-specific\n\n  name        String // Option name (e.g., \"Extended Deck\", \"Sunroom Addition\")\n  description String? // Additional details\n  category    OptionCategory @default(OTHER)\n\n  // Pricing (optional - may not apply)\n  estimatedCost Decimal? @map(\"estimated_cost\") @db.Decimal(10, 2)\n\n  // Additional metadata\n  notes      String? @db.Text\n  isStandard Boolean @default(false) @map(\"is_standard\") // Standard option vs upgrade\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  // Relationships\n  plan      Plan           @relation(fields: [planId], references: [id], onDelete: Cascade)\n  elevation PlanElevation? @relation(fields: [elevationId], references: [id], onDelete: Cascade)\n\n  @@index([planId])\n  @@index([elevationId])\n  @@index([category])\n}\n\nenum OptionCategory {\n  DECK\n  FENCING\n  ROOM_ADDITION\n  GARAGE\n  PATIO\n  STRUCTURAL\n  FINISH\n  OTHER\n}\n\n// Plan Documents - File uploads for plans and elevations\nmodel PlanDocument {\n  id String @id @default(uuid())\n\n  // Association (either plan-level or elevation-specific)\n  planId      String  @map(\"plan_id\")\n  elevationId String? @map(\"elevation_id\") // null = plan-level, set = elevation-specific\n\n  // File metadata\n  fileName String       @map(\"file_name\")\n  fileType DocumentType @map(\"file_type\")\n  filePath String       @map(\"file_path\") // Storage path\n  fileSize Int          @map(\"file_size\") // Size in bytes\n  mimeType String       @map(\"mime_type\")\n\n  // Version control\n  version      Int      @default(1)\n  documentDate DateTime @map(\"document_date\") // User-specified date for the document\n\n  // Archive tracking\n  isArchived   Boolean   @default(false) @map(\"is_archived\")\n  archiveDate  DateTime? @map(\"archive_date\")\n  archiveNotes String?   @map(\"archive_notes\") @db.Text\n\n  // Version comparison\n  changeNotes  String?        @map(\"change_notes\") @db.Text // Notes on what changed in this version\n  replacedById String?        @map(\"replaced_by_id\") // Points to the document that replaced this one\n  replacedBy   PlanDocument?  @relation(\"DocumentReplacement\", fields: [replacedById], references: [id], onDelete: SetNull)\n  replaces     PlanDocument[] @relation(\"DocumentReplacement\")\n\n  // Metadata\n  uploadedBy String? @map(\"uploaded_by\") // User email or ID\n\n  createdAt DateTime @default(now()) @map(\"created_at\")\n  updatedAt DateTime @updatedAt @map(\"updated_at\")\n\n  // Relationships\n  plan      Plan           @relation(fields: [planId], references: [id], onDelete: Cascade)\n  elevation PlanElevation? @relation(fields: [elevationId], references: [id], onDelete: Cascade)\n\n  @@index([planId])\n  @@index([elevationId])\n  @@index([fileType])\n  @@index([isArchived])\n  @@index([documentDate])\n  @@map(\"plan_documents\")\n}\n\nenum DocumentType {\n  PLAN_DRAWING // Plan drawings/blueprints\n  ELEVATION_DRAWING // Elevation-specific drawings\n  SPECIFICATIONS // Plan specifications\n  MATERIAL_LIST // Material/BOM lists\n  PRICING_SHEET // Pricing information\n  OPTION_DETAILS // Option details and pricing\n  OTHER // Other document types\n}\n\n// Plan Template - The \"recipe\" for a plan\nmodel PlanTemplateItem {\n  id         String @id @default(uuid())\n  planId     String\n  materialId String\n\n  // Quantities\n  quantity    Decimal @db.Decimal(10, 3)\n  unit        String\n  wasteFactor Decimal @default(0) @db.Decimal(5, 2) // Percentage\n\n  // Categorization\n  category    String // \"Framing\", \"Roof\", \"Foundation\"\n  subcategory String?\n\n  // Variance Tracking (for feedback loop)\n  averageVariance  Decimal?  @db.Decimal(5, 2) // Historical avg variance %\n  varianceCount    Int       @default(0) // Number of jobs sampled\n  lastVarianceDate DateTime? // Last time variance was recorded\n  confidenceScore  Decimal?  @db.Decimal(3, 2) // 0-1 confidence in template accuracy\n\n  notes     String?\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  plan     Plan     @relation(fields: [planId], references: [id], onDelete: Cascade)\n  material Material @relation(fields: [materialId], references: [id], onDelete: Restrict)\n\n  @@unique([planId, materialId])\n  @@index([planId])\n  @@index([materialId])\n  @@index([category])\n}\n\n// ============================================================================\n// FOUNDATION LAYER: MATERIALS & PRICING\n// ============================================================================\n\nmodel Material {\n  id          String @id @default(uuid())\n  sku         String @unique\n  description String\n\n  // Categorization\n  category    MaterialCategory\n  subcategory String?\n\n  // DART Category (BAT System Pricing)\n  dartCategory     Int?    @map(\"dart_category\") // 1-15 for tier-based pricing lookup\n  dartCategoryName String? @map(\"dart_category_name\") // e.g., \"01-Lumber\", \"special\"\n\n  // Unit of Measure\n  unitOfMeasure String // \"EA\", \"LF\", \"SF\", \"MBF\", \"SHT\"\n\n  // Base Costs\n  vendorCost Decimal @db.Decimal(10, 2)\n  freight    Decimal @default(0) @db.Decimal(10, 2)\n\n  // Commodity Pricing (for lumber)\n  isRLLinked    Boolean   @default(false) // Linked to Random Lengths\n  rlTag         String? // Random Lengths commodity tag\n  rlBasePrice   Decimal?  @db.Decimal(10, 2)\n  rlLastUpdated DateTime?\n\n  // Length Modifiers (for lumber)\n  lengthAdders     Json? // { \"8\": 0, \"10\": 0.15, \"12\": 0.25 }\n  gradeMultipliers Json? // { \"SPF\": 1.0, \"SYP\": 1.15 }\n\n  // Status\n  isActive Boolean @default(true)\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  // Relationships\n  vendor           Vendor?            @relation(fields: [vendorId], references: [id])\n  vendorId         String?\n  pricingHistory   PricingHistory[]\n  priceRevisions   PriceRevision[]\n  templateItems    PlanTemplateItem[]\n  customerPricing  CustomerPricing[]\n  takeoffLineItems TakeoffLineItem[]\n\n  @@index([sku])\n  @@index([category])\n  @@index([dartCategory])\n  @@index([isActive])\n  @@index([isRLLinked])\n}\n\nenum MaterialCategory {\n  DIMENSIONAL_LUMBER\n  ENGINEERED_LUMBER\n  SHEATHING\n  PRESSURE_TREATED\n  HARDWARE\n  CONCRETE\n  ROOFING\n  SIDING\n  INSULATION\n  DRYWALL\n  OTHER\n}\n\nmodel Vendor {\n  id   String @id @default(uuid())\n  name String\n  code String @unique\n\n  // Contact\n  primaryContact String?\n  email          String?\n  phone          String?\n\n  // Terms\n  paymentTerms String? // \"Net 30\", \"Net 45\"\n  leadTimeDays Int     @default(5)\n\n  isActive  Boolean  @default(true)\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  materials      Material[]\n  purchaseOrders PurchaseOrder[]\n\n  @@index([code])\n}\n\n// Transparent Pricing Pipeline - Shows calculation breakdown\nmodel PricingHistory {\n  id         String @id @default(uuid())\n  materialId String\n\n  // Pricing Breakdown (Transparent Calculation)\n  baseVendorCost      Decimal @db.Decimal(10, 2)\n  commodityAdjustment Decimal @default(0) @db.Decimal(10, 2)\n  freight             Decimal @default(0) @db.Decimal(10, 2)\n  totalCost           Decimal @db.Decimal(10, 2)\n\n  // Margin\n  marginPercentage Decimal @db.Decimal(5, 2)\n  marginAmount     Decimal @db.Decimal(10, 2)\n\n  // Final Price\n  unitPrice Decimal @db.Decimal(10, 2)\n\n  // Calculation Steps (for pedagogical transparency)\n  calculationSteps Json // Array of calculation step objects\n\n  effectiveDate DateTime  @default(now())\n  expiresAt     DateTime?\n\n  createdAt DateTime @default(now())\n\n  material Material @relation(fields: [materialId], references: [id], onDelete: Cascade)\n\n  @@index([materialId])\n  @@index([effectiveDate])\n}\n\n// Random Lengths Commodity Pricing\nmodel RandomLengthsPricing {\n  id          String @id @default(uuid())\n  tag         String // Commodity tag\n  description String\n\n  // Pricing\n  price Decimal @db.Decimal(10, 2)\n  unit  String // \"MBF\", \"MSF\"\n\n  // Metadata\n  region String?\n  grade  String?\n\n  effectiveDate DateTime\n  source        String // \"RL_REPORT_2024_12_01\"\n\n  createdAt DateTime @default(now())\n\n  @@unique([tag, effectiveDate])\n  @@index([tag])\n  @@index([effectiveDate])\n}\n\n// Price Revision Tracking - Audit trail for all price changes\nmodel PriceRevision {\n  id         String @id @default(uuid())\n  materialId String @map(\"material_id\")\n\n  // Revision Details\n  revisionNumber Int    @map(\"revision_number\") // Sequential revision number per material\n  revisionType   String @map(\"revision_type\") // \"INITIAL\", \"COST_CHANGE\", \"MARGIN_ADJUST\", \"COMMODITY_UPDATE\", \"TIER_CHANGE\"\n\n  // Price Data (All tiers PL01-PL12)\n  tierPrices Json // { \"01\": 10.50, \"02\": 9.75, ... \"12\": 7.25, \"L5\": \"RL_CALC\" }\n\n  // Cost Breakdown\n  vendorCost      Decimal  @db.Decimal(10, 2)\n  freight         Decimal  @default(0) @db.Decimal(10, 2)\n  commodityFactor Decimal? @db.Decimal(5, 4) // Commodity price multiplier\n  baseMargin      Decimal  @db.Decimal(5, 2) // Base margin %\n\n  // Effective Dates\n  effectiveDate DateTime  @map(\"effective_date\")\n  expiresAt     DateTime? @map(\"expires_at\")\n\n  // Change Tracking\n  changedBy    String? @map(\"changed_by\") // User ID or \"SYSTEM\"\n  changeReason String? @map(\"change_reason\") // Reason for price change\n  notes        String? @db.Text\n\n  // BAT Import Tracking\n  batImportDate DateTime? @map(\"bat_import_date\")\n  batFileName   String?   @map(\"bat_file_name\")\n\n  createdAt DateTime @default(now()) @map(\"created_at\")\n\n  material Material @relation(fields: [materialId], references: [id], onDelete: Cascade)\n\n  @@unique([materialId, revisionNumber])\n  @@index([materialId])\n  @@index([effectiveDate])\n  @@index([revisionType])\n  @@map(\"price_revisions\")\n}\n\n// ============================================================================\n// OPERATIONAL CORE: COMMUNITIES & LOTS\n// ============================================================================\n\nmodel Community {\n  id         String @id @default(uuid())\n  name       String\n  customerId String\n\n  // Location\n  shippingYard String\n  jurisdiction String?\n  region       String?\n\n  // Status\n  activePlans Int     @default(0)\n  isActive    Boolean @default(true)\n\n  // Requirements\n  specialRequirements String? @db.Text\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  customer          Customer           @relation(fields: [customerId], references: [id], onDelete: Cascade)\n  lots              Lot[]\n  jobs              Job[]\n  variancePatterns  VariancePattern[]\n  portalOrders      PortalOrder[]\n  portalDocuments   PortalDocument[]\n  systemAlerts      SystemAlert[]\n  deliverySchedules DeliverySchedule[]\n\n  @@index([customerId])\n  @@index([isActive])\n}\n\nmodel Lot {\n  id          String @id @default(uuid())\n  communityId String\n  lotNumber   String\n\n  // Status\n  status LotStatus @default(AVAILABLE)\n\n  // Lot Characteristics\n  sqft     Int?\n  frontage Decimal? @db.Decimal(10, 2)\n  depth    Decimal? @db.Decimal(10, 2)\n\n  notes String? @db.Text\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  community Community @relation(fields: [communityId], references: [id], onDelete: Cascade)\n  jobs      Job[]\n\n  @@unique([communityId, lotNumber])\n  @@index([communityId])\n  @@index([status])\n}\n\nenum LotStatus {\n  AVAILABLE\n  RESERVED\n  SOLD\n  IN_PROGRESS\n  COMPLETED\n}\n\n// ============================================================================\n// OPERATIONAL CORE: JOB MANAGEMENT\n// ============================================================================\n\nmodel Job {\n  id        String @id @default(uuid())\n  jobNumber String @unique // Auto-generated or manual\n\n  // Core References\n  customerId  String\n  planId      String\n  elevationId String?\n  communityId String?\n  lotId       String?\n\n  // Job Details\n  status JobStatus @default(DRAFT)\n\n  // Pricing\n  estimatedCost Decimal? @db.Decimal(10, 2)\n  actualCost    Decimal? @db.Decimal(10, 2)\n  margin        Decimal? @db.Decimal(5, 2)\n\n  // Workflow\n  createdById    String\n  approvedById   String?\n  approvedAt     DateTime?\n  startDate      DateTime?\n  completionDate DateTime?\n\n  // Documentation\n  notes      String? @db.Text\n  folderPath String? // Document storage path\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  // Relationships\n  customer   Customer       @relation(fields: [customerId], references: [id])\n  plan       Plan           @relation(fields: [planId], references: [id])\n  elevation  PlanElevation? @relation(fields: [elevationId], references: [id])\n  community  Community?     @relation(fields: [communityId], references: [id])\n  lot        Lot?           @relation(fields: [lotId], references: [id])\n  createdBy  User           @relation(\"JobCreator\", fields: [createdById], references: [id])\n  approvedBy User?          @relation(\"JobApprover\", fields: [approvedById], references: [id])\n\n  jobOptions     JobOption[]\n  takeoff        Takeoff?\n  purchaseOrders PurchaseOrder[]\n  pdssStatus     PDSSJobStatus? // PDSS tracking for this job\n\n  @@index([jobNumber])\n  @@index([customerId])\n  @@index([status])\n  @@index([createdAt])\n}\n\nenum JobStatus {\n  DRAFT\n  PENDING_APPROVAL\n  ESTIMATED\n  APPROVED\n  IN_PROGRESS\n  ON_HOLD\n  COMPLETED\n  CANCELLED\n}\n\nmodel JobOption {\n  id       String @id @default(uuid())\n  jobId    String\n  optionId String\n\n  quantity Int     @default(1)\n  price    Decimal @db.Decimal(10, 2)\n\n  createdAt DateTime @default(now())\n\n  job    Job        @relation(fields: [jobId], references: [id], onDelete: Cascade)\n  option PlanOption @relation(fields: [optionId], references: [id])\n\n  @@unique([jobId, optionId])\n  @@index([jobId])\n}\n\n// ============================================================================\n// OPERATIONAL CORE: TAKEOFFS & VALIDATION\n// ============================================================================\n\nmodel Takeoff {\n  id    String @id @default(uuid())\n  jobId String @unique\n\n  // Status\n  status TakeoffStatus @default(DRAFT)\n\n  // Validation\n  isValidated       Boolean   @default(false)\n  validatedAt       DateTime?\n  validationResults Json? // Validation report\n\n  // Totals\n  totalEstimated Decimal  @db.Decimal(10, 2)\n  totalActual    Decimal? @db.Decimal(10, 2)\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  job        Job                @relation(fields: [jobId], references: [id], onDelete: Cascade)\n  lineItems  TakeoffLineItem[]\n  validation TakeoffValidation?\n\n  @@index([jobId])\n  @@index([status])\n}\n\nenum TakeoffStatus {\n  DRAFT\n  IN_REVIEW\n  VALIDATED\n  APPROVED\n  ORDERED\n  DELIVERED\n}\n\nmodel TakeoffLineItem {\n  id         String @id @default(uuid())\n  takeoffId  String\n  materialId String\n\n  // Quantities\n  quantityEstimated Decimal  @db.Decimal(10, 3)\n  quantityActual    Decimal? @db.Decimal(10, 3)\n  unit              String\n\n  // Pricing\n  unitPrice      Decimal  @db.Decimal(10, 2)\n  totalEstimated Decimal  @db.Decimal(10, 2)\n  totalActual    Decimal? @db.Decimal(10, 2)\n\n  // Variance Tracking (FEEDBACK LOOP HOOK)\n  variance        Decimal? @db.Decimal(10, 3) // quantityActual - quantityEstimated\n  variancePercent Decimal? @db.Decimal(5, 2) // (variance / quantityEstimated) * 100\n  varianceReason  String? // \"Complex roof cuts\", \"Wet lumber replacement\"\n\n  // Categorization\n  category    String\n  subcategory String?\n\n  notes String?\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  takeoff  Takeoff  @relation(fields: [takeoffId], references: [id], onDelete: Cascade)\n  material Material @relation(fields: [materialId], references: [id])\n\n  @@index([takeoffId])\n  @@index([materialId])\n}\n\nmodel TakeoffValidation {\n  id        String @id @default(uuid())\n  takeoffId String @unique\n\n  // Multi-stage validation flags\n  specCompliant      Boolean @default(false)\n  pricingCurrent     Boolean @default(false)\n  varianceAcceptable Boolean @default(false)\n\n  // Validation Results\n  issues   Json // Array of validation issues\n  warnings Json // Array of warnings\n\n  // Historical Comparison\n  comparedToJobs String[] // Array of similar job IDs used for comparison\n  avgVariance    Decimal? @db.Decimal(5, 2)\n\n  validatedAt DateTime @default(now())\n\n  takeoff Takeoff @relation(fields: [takeoffId], references: [id], onDelete: Cascade)\n\n  @@index([takeoffId])\n}\n\n// ============================================================================\n// TRANSACTION LAYER: PURCHASE ORDERS\n// ============================================================================\n\nmodel PurchaseOrder {\n  id       String  @id @default(uuid())\n  poNumber String  @unique\n  jobId    String\n  vendorId String?\n\n  // Status\n  status POStatus @default(DRAFT)\n\n  // Amounts\n  totalAmount Decimal @db.Decimal(10, 2)\n\n  // Workflow\n  approvedAt  DateTime?\n  sentAt      DateTime?\n  confirmedAt DateTime?\n  deliveredAt DateTime?\n\n  // Delivery\n  scheduledDelivery DateTime?\n  actualDelivery    DateTime?\n  deliveryNotes     String?\n\n  // External System Integration\n  hyphenBuildProId String?\n  holtPortalId     String?\n\n  // Documentation\n  signatureUrl String?\n  photoUrls    String[]\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  job    Job     @relation(fields: [jobId], references: [id], onDelete: Cascade)\n  vendor Vendor? @relation(fields: [vendorId], references: [id])\n\n  @@index([poNumber])\n  @@index([jobId])\n  @@index([status])\n  @@index([scheduledDelivery])\n}\n\nenum POStatus {\n  DRAFT\n  APPROVED\n  SENT\n  CONFIRMED\n  DELIVERED\n  CANCELLED\n}\n\n// ============================================================================\n// INTELLIGENCE LAYER: VARIANCE & LEARNING\n// ============================================================================\n\nmodel VariancePattern {\n  id String @id @default(uuid())\n\n  // Pattern Scope (Hierarchical Learning)\n  scope       VarianceScope\n  planId      String?\n  communityId String?\n  customerId  String?\n  region      String?\n\n  // Material & Category\n  materialCategory String\n  subcategory      String?\n\n  // Statistical Data\n  sampleSize      Int\n  avgVariance     Decimal @db.Decimal(5, 2)\n  stdDeviation    Decimal @db.Decimal(5, 2)\n  confidenceScore Decimal @db.Decimal(3, 2) // 0-1\n\n  // Recommendation\n  recommendedAdjustment Decimal? @db.Decimal(5, 2)\n  reasoning             String?  @db.Text\n\n  // Status\n  status     PatternStatus @default(DETECTED)\n  reviewedAt DateTime?\n  appliedAt  DateTime?\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  plan      Plan?            @relation(fields: [planId], references: [id])\n  community Community?       @relation(fields: [communityId], references: [id])\n  customer  Customer?        @relation(fields: [customerId], references: [id])\n  reviews   VarianceReview[]\n\n  @@index([scope])\n  @@index([planId])\n  @@index([status])\n  @@index([confidenceScore])\n}\n\nenum VarianceScope {\n  PLAN_SPECIFIC // Single plan (Phase 1)\n  CROSS_PLAN // Pattern across plans\n  COMMUNITY // Community-level\n  BUILDER // Builder-level\n  REGIONAL // Regional patterns\n}\n\nenum PatternStatus {\n  DETECTED // System detected pattern\n  UNDER_REVIEW // Flagged for human review\n  APPROVED // Approved for auto-application\n  APPLIED // Applied to templates\n  REJECTED // Rejected by reviewer\n}\n\nmodel VarianceReview {\n  id         String @id @default(uuid())\n  patternId  String\n  reviewerId String\n\n  decision ReviewDecision\n  notes    String?        @db.Text\n\n  reviewedAt DateTime @default(now())\n\n  pattern  VariancePattern @relation(fields: [patternId], references: [id], onDelete: Cascade)\n  reviewer User            @relation(fields: [reviewerId], references: [id])\n\n  @@index([patternId])\n  @@index([reviewerId])\n}\n\nenum ReviewDecision {\n  APPROVE\n  REJECT\n  NEEDS_MORE_DATA\n  ESCALATE\n}\n\n// ============================================================================\n// INTELLIGENCE LAYER: COMMUNICATIONS & NOTIFICATIONS\n// ============================================================================\n\nmodel Notification {\n  id     String @id @default(uuid())\n  userId String\n\n  // Notification Content\n  type    NotificationType\n  title   String\n  message String           @db.Text\n\n  // Action\n  actionUrl String?\n\n  // Status\n  isRead Boolean   @default(false)\n  readAt DateTime?\n\n  createdAt DateTime @default(now())\n\n  user User @relation(fields: [userId], references: [id], onDelete: Cascade)\n\n  @@index([userId])\n  @@index([isRead])\n  @@index([createdAt])\n}\n\nenum NotificationType {\n  JOB_CREATED\n  JOB_APPROVED\n  PO_APPROVED\n  DELIVERY_SCHEDULED\n  DELIVERY_LATE\n  VARIANCE_DETECTED\n  PATTERN_REVIEW_REQUIRED\n  SYSTEM_ALERT\n}\n\n// ============================================================================\n// SYSTEM: AUDIT LOGGING\n// ============================================================================\n\nmodel AuditLog {\n  id     String  @id @default(uuid())\n  userId String?\n\n  // Action\n  action     String // \"CREATE_JOB\", \"UPDATE_MATERIAL\", \"APPROVE_PO\"\n  entityType String // \"Job\", \"Material\", \"PurchaseOrder\"\n  entityId   String\n\n  // Changes\n  changes Json // Before/after snapshot\n\n  // Context\n  ipAddress String?\n  userAgent String?\n\n  createdAt DateTime @default(now())\n\n  user User? @relation(fields: [userId], references: [id])\n\n  @@index([userId])\n  @@index([entityType, entityId])\n  @@index([createdAt])\n}\n\n// ============================================================================\n// PORTAL SYNC & DASHBOARD (Python Agent Integration)\n// ============================================================================\n// These models support integration with STO Python agents for portal syncing,\n// alerts, activity tracking, and delivery scheduling.\n\nmodel PortalOrder {\n  id          String    @id @default(uuid())\n  externalId  String    @unique @map(\"external_id\") // PO number from SupplyPro/Hyphen\n  portal      String // \"supplypro\", \"hyphen\"\n  orderType   String    @map(\"order_type\") // \"po\", \"bid\", \"epo\"\n  category    String? // \"Lumber\", \"Trusses\", \"Siding\", etc.\n  status      String // \"pending\", \"approved\", \"delivered\", \"late\"\n  amount      Decimal   @db.Decimal(12, 2)\n  description String?\n  dueDate     DateTime? @map(\"due_date\")\n  completedAt DateTime? @map(\"completed_at\")\n\n  // Relations to existing models\n  customerId  String?    @map(\"customer_id\")\n  customer    Customer?  @relation(fields: [customerId], references: [id])\n  communityId String?    @map(\"community_id\")\n  community   Community? @relation(fields: [communityId], references: [id])\n  lotNumber   Int?       @map(\"lot_number\")\n\n  // Metadata\n  rawData   Json?    @map(\"raw_data\") // Full response from portal\n  syncedAt  DateTime @default(now()) @map(\"synced_at\")\n  createdAt DateTime @default(now()) @map(\"created_at\")\n  updatedAt DateTime @updatedAt @map(\"updated_at\")\n\n  @@index([portal, orderType])\n  @@index([status])\n  @@index([dueDate])\n  @@map(\"portal_orders\")\n}\n\nmodel PortalDocument {\n  id         String  @id @default(uuid())\n  externalId String? @map(\"external_id\") // ID from source system\n  portal     String // \"supplypro\", \"hyphen\", \"onedrive\"\n  filename   String\n  docType    String? @map(\"doc_type\") // \"ARCH_DRAWINGS\", \"CALC_PKG\", \"TRUSS_CALCS\"\n  fileUrl    String? @map(\"file_url\") // URL or path to document\n  fileSize   Int?    @map(\"file_size\")\n\n  // Relations\n  customerId  String?    @map(\"customer_id\")\n  customer    Customer?  @relation(fields: [customerId], references: [id])\n  communityId String?    @map(\"community_id\")\n  community   Community? @relation(fields: [communityId], references: [id])\n  planId      String?    @map(\"plan_id\")\n  plan        Plan?      @relation(fields: [planId], references: [id])\n  lotNumber   Int?       @map(\"lot_number\")\n\n  status      String    @default(\"received\") // received, processed, archived\n  processedAt DateTime? @map(\"processed_at\")\n  syncedAt    DateTime  @default(now()) @map(\"synced_at\")\n  createdAt   DateTime  @default(now()) @map(\"created_at\")\n\n  @@index([portal, docType])\n  @@index([customerId])\n  @@map(\"portal_documents\")\n}\n\nmodel SystemAlert {\n  id        String  @id @default(uuid())\n  alertType String  @map(\"alert_type\") // \"critical\", \"warning\", \"info\"\n  source    String // \"portal_sync\", \"completeness_check\", \"variance\"\n  title     String\n  message   String\n  details   Json?\n  actionUrl String? @map(\"action_url\")\n\n  // Relations\n  customerId  String?    @map(\"customer_id\")\n  customer    Customer?  @relation(fields: [customerId], references: [id])\n  communityId String?    @map(\"community_id\")\n  community   Community? @relation(fields: [communityId], references: [id])\n  orderId     String?    @map(\"order_id\")\n\n  isRead      Boolean   @default(false) @map(\"is_read\")\n  isDismissed Boolean   @default(false) @map(\"is_dismissed\")\n  readAt      DateTime? @map(\"read_at\")\n  createdAt   DateTime  @default(now()) @map(\"created_at\")\n\n  @@index([alertType, isDismissed])\n  @@index([createdAt])\n  @@map(\"system_alerts\")\n}\n\nmodel ActivityLog {\n  id           String   @id @default(uuid())\n  activityType String   @map(\"activity_type\") // \"po_approved\", \"bid_submitted\", \"delivery\", \"document\"\n  title        String\n  detail       String?\n  amount       Decimal? @db.Decimal(12, 2)\n  icon         String?\n\n  // Relations\n  userId     String?   @map(\"user_id\")\n  user       User?     @relation(fields: [userId], references: [id])\n  customerId String?   @map(\"customer_id\")\n  customer   Customer? @relation(fields: [customerId], references: [id])\n  orderId    String?   @map(\"order_id\")\n\n  createdAt DateTime @default(now()) @map(\"created_at\")\n\n  @@index([activityType])\n  @@index([createdAt])\n  @@map(\"activity_logs\")\n}\n\nmodel DeliverySchedule {\n  id            String   @id @default(uuid())\n  portal        String // \"supplypro\", \"hyphen\"\n  orderId       String?  @map(\"order_id\")\n  scheduledTime DateTime @map(\"scheduled_time\")\n  title         String\n  location      String?\n  status        String   @default(\"scheduled\") // scheduled, in_transit, delivered\n\n  // Relations\n  communityId String?    @map(\"community_id\")\n  community   Community? @relation(fields: [communityId], references: [id])\n  lotNumber   Int?       @map(\"lot_number\")\n\n  createdAt DateTime @default(now()) @map(\"created_at\")\n  updatedAt DateTime @updatedAt @map(\"updated_at\")\n\n  @@index([scheduledTime])\n  @@index([status])\n  @@map(\"delivery_schedules\")\n}\n\nmodel PortalSyncLog {\n  id             String    @id @default(uuid())\n  portal         String\n  syncType       String    @map(\"sync_type\") // \"orders\", \"documents\", \"deliveries\"\n  status         String // \"started\", \"completed\", \"failed\"\n  itemsFound     Int       @default(0) @map(\"items_found\")\n  itemsProcessed Int       @default(0) @map(\"items_processed\")\n  errors         Json?\n  startedAt      DateTime  @default(now()) @map(\"started_at\")\n  completedAt    DateTime? @map(\"completed_at\")\n\n  @@index([portal, syncType])\n  @@index([startedAt])\n  @@map(\"portal_sync_logs\")\n}\n\n// ============================================================================\n// PDSS (PLAN DATA STATUS SHEET) TRACKING\n// ============================================================================\n// Tracks plan/elevation document status and job-level PDSS completion.\n// Based on STO PDSS workflow: Plan status, takeoff status, quote status.\n\n// Builder-specific required documents definition\nmodel PDSSDocumentRequirement {\n  id         String   @id @default(uuid())\n  customerId String   @map(\"customer_id\")\n  customer   Customer @relation(fields: [customerId], references: [id])\n\n  docType     String  @map(\"doc_type\") // \"ARCH_DRAWINGS\", \"STRUCT_CALCS\", \"TRUSS_LAYOUT\", etc.\n  docName     String  @map(\"doc_name\") // Human readable name\n  isRequired  Boolean @default(true) @map(\"is_required\")\n  description String?\n\n  // Timing requirements\n  requiredByPhase String? @map(\"required_by_phase\") // \"BEFORE_START\", \"FRAMING\", \"PRE_DRYWALL\"\n  daysBeforeStart Int?    @map(\"days_before_start\") // Days before job start this is needed\n\n  sortOrder Int     @default(0) @map(\"sort_order\")\n  isActive  Boolean @default(true) @map(\"is_active\")\n\n  createdAt DateTime @default(now()) @map(\"created_at\")\n  updatedAt DateTime @updatedAt @map(\"updated_at\")\n\n  // Relationships\n  documentStatuses PDSSDocumentStatus[]\n\n  @@unique([customerId, docType])\n  @@index([customerId])\n  @@map(\"pdss_document_requirements\")\n}\n\n// Plan/Elevation level PDSS status\nmodel PDSSPlanStatus {\n  id String @id @default(uuid())\n\n  // Link to plan and optionally elevation\n  planId      String         @map(\"plan_id\")\n  plan        Plan           @relation(fields: [planId], references: [id])\n  elevationId String?        @map(\"elevation_id\")\n  elevation   PlanElevation? @relation(fields: [elevationId], references: [id])\n\n  // Status tracking\n  planStatus    PDSSStatus        @default(NEW) @map(\"plan_status\")\n  takeoffStatus PDSSTakeoffStatus @default(NOT_STARTED) @map(\"takeoff_status\")\n  quoteStatus   PDSSQuoteStatus   @default(NOT_STARTED) @map(\"quote_status\")\n\n  // Document completeness\n  documentsComplete Boolean @default(false) @map(\"documents_complete\")\n  documentCount     Int     @default(0) @map(\"document_count\")\n\n  // Assignment & Priority\n  assignedToId String?      @map(\"assigned_to_id\")\n  assignedTo   User?        @relation(fields: [assignedToId], references: [id])\n  priority     PDSSPriority @default(MEDIUM)\n  dueDate      DateTime?    @map(\"due_date\")\n\n  // Notes\n  notes String? @db.Text\n\n  createdAt DateTime @default(now()) @map(\"created_at\")\n  updatedAt DateTime @updatedAt @map(\"updated_at\")\n\n  // Relationships\n  documentStatuses PDSSDocumentStatus[]\n\n  @@unique([planId, elevationId])\n  @@index([planId])\n  @@index([planStatus])\n  @@index([assignedToId])\n  @@map(\"pdss_plan_status\")\n}\n\n// Job-level PDSS status (per lot implementation)\nmodel PDSSJobStatus {\n  id String @id @default(uuid())\n\n  // Link to job\n  jobId String @unique @map(\"job_id\")\n  job   Job    @relation(fields: [jobId], references: [id])\n\n  // Status tracking (inherits from plan but can override)\n  planStatus    PDSSStatus        @default(NEW) @map(\"plan_status\")\n  takeoffStatus PDSSTakeoffStatus @default(NOT_STARTED) @map(\"takeoff_status\")\n  quoteStatus   PDSSQuoteStatus   @default(NOT_STARTED) @map(\"quote_status\")\n\n  // Document completeness for this specific job\n  documentsComplete Boolean @default(false) @map(\"documents_complete\")\n  missingDocuments  Json?   @map(\"missing_documents\") // Array of missing doc types\n\n  // Assignment & Priority\n  assignedToId String?      @map(\"assigned_to_id\")\n  assignedTo   User?        @relation(fields: [assignedToId], references: [id])\n  priority     PDSSPriority @default(MEDIUM)\n  dueDate      DateTime?    @map(\"due_date\")\n\n  // Alerts\n  alertsSent  Int       @default(0) @map(\"alerts_sent\")\n  lastAlertAt DateTime? @map(\"last_alert_at\")\n\n  // Notes\n  notes String? @db.Text\n\n  createdAt DateTime @default(now()) @map(\"created_at\")\n  updatedAt DateTime @updatedAt @map(\"updated_at\")\n\n  @@index([jobId])\n  @@index([planStatus])\n  @@index([priority])\n  @@map(\"pdss_job_status\")\n}\n\n// Individual document status tracking\nmodel PDSSDocumentStatus {\n  id String @id @default(uuid())\n\n  // Link to requirement\n  requirementId String                  @map(\"requirement_id\")\n  requirement   PDSSDocumentRequirement @relation(fields: [requirementId], references: [id])\n\n  // Link to plan status (optional - for plan-level tracking)\n  planStatusId String?         @map(\"plan_status_id\")\n  planStatus   PDSSPlanStatus? @relation(fields: [planStatusId], references: [id])\n\n  // Status\n  status       DocumentReceiptStatus @default(PENDING)\n  receivedAt   DateTime?             @map(\"received_at\")\n  verifiedAt   DateTime?             @map(\"verified_at\")\n  verifiedById String?               @map(\"verified_by_id\")\n\n  // Document reference\n  documentUrl     String? @map(\"document_url\")\n  documentVersion Int     @default(1) @map(\"document_version\")\n\n  // Notes\n  notes String?\n\n  createdAt DateTime @default(now()) @map(\"created_at\")\n  updatedAt DateTime @updatedAt @map(\"updated_at\")\n\n  @@unique([requirementId, planStatusId])\n  @@index([requirementId])\n  @@index([planStatusId])\n  @@index([status])\n  @@map(\"pdss_document_status\")\n}\n\nenum PDSSStatus {\n  NEW\n  IN_PROGRESS\n  COMPLETE\n  ON_HOLD\n  ARCHIVED\n}\n\nenum PDSSTakeoffStatus {\n  NOT_STARTED\n  IN_PROGRESS\n  PENDING_REVIEW\n  COMPLETE\n}\n\nenum PDSSQuoteStatus {\n  NOT_STARTED\n  DRAFT\n  SENT\n  APPROVED\n  REJECTED\n}\n\nenum PDSSPriority {\n  CRITICAL\n  HIGH\n  MEDIUM\n  LOW\n}\n\nenum DocumentReceiptStatus {\n  PENDING\n  RECEIVED\n  VERIFIED\n  REJECTED\n  SUPERSEDED\n}\n\n// ============================================================================\n// UNIFIED CODE SYSTEM\n// ============================================================================\n// Two-layer hierarchical code system for construction material management\n// Layer 1: Aggregate codes for estimating/quoting (Plan-Phase/Option-MaterialClass)\n// Layer 2: Detailed material SKUs for purchasing/inventory\n// Source: Coding_Schema_v2_NEW_FORMAT.csv\n\n// Material Class Definitions (high-level categories)\nmodel MaterialClass {\n  id          String  @id @default(uuid())\n  classCode   String  @unique @map(\"class_code\") // \"1000\", \"1100\"\n  className   String  @map(\"class_name\") // \"Framing\", \"Siding\"\n  description String?\n  sortOrder   Int?    @map(\"sort_order\")\n\n  createdAt DateTime @default(now()) @map(\"created_at\")\n  updatedAt DateTime @updatedAt @map(\"updated_at\")\n\n  // Relationships\n  phaseOptions PhaseOptionDefinition[]\n  layer1Codes  Layer1Code[]\n\n  @@index([classCode])\n  @@map(\"material_classes\")\n}\n\n// Phase and Option Code Definitions\nmodel PhaseOptionDefinition {\n  id        String @id @default(uuid())\n  phaseCode String @unique @map(\"phase_code\") // \"10.00\", \"20.rf\", \"60.ec\"\n  phaseName String @map(\"phase_name\")\n\n  // Phase Classification\n  isBasePhase    Boolean @default(false) @map(\"is_base_phase\")\n  isOption       Boolean @default(true) @map(\"is_option\")\n  isAlphaVariant Boolean @default(false) @map(\"is_alpha_variant\") // Uses letter suffix (rf, tc, etc.)\n\n  // Material Class Reference\n  materialClassId String @map(\"material_class_id\")\n\n  // Shipping/Construction Order\n  shippingOrder Int? @map(\"shipping_order\")\n\n  description String?\n\n  createdAt DateTime @default(now()) @map(\"created_at\")\n  updatedAt DateTime @updatedAt @map(\"updated_at\")\n\n  // Relationships\n  materialClass   MaterialClass        @relation(fields: [materialClassId], references: [id])\n  layer1Codes     Layer1Code[]\n  richmondOptions RichmondOptionCode[]\n\n  @@index([phaseCode])\n  @@index([materialClassId])\n  @@index([shippingOrder])\n  @@map(\"phase_option_definitions\")\n}\n\n// Richmond Option Code Mappings\n// Maps Richmond builder's mnemonic codes to phase codes\nmodel RichmondOptionCode {\n  id                String  @id @default(uuid())\n  optionCode        String  @unique @map(\"option_code\") // \"XGREAT\", \"SUN\", \"TALLCRWL\"\n  optionDescription String? @map(\"option_description\")\n\n  // Link to phase (optional for multi-phase options)\n  phaseId      String? @map(\"phase_id\")\n  isMultiPhase Boolean @default(false) @map(\"is_multi_phase\")\n\n  createdAt DateTime @default(now()) @map(\"created_at\")\n  updatedAt DateTime @updatedAt @map(\"updated_at\")\n\n  // Relationships\n  phase             PhaseOptionDefinition?     @relation(fields: [phaseId], references: [id])\n  layer1CodeOptions Layer1CodeRichmondOption[]\n\n  @@index([optionCode])\n  @@map(\"richmond_option_codes\")\n}\n\n// Layer 1: Aggregate Codes for Estimating\n// Format: PLAN-PHASE/OPTION-ELEVATION-MATERIALCLASS (e.g., \"PPPP-020.000-ABC-1000\")\nmodel Layer1Code {\n  id String @id @default(uuid())\n\n  // Code Components\n  planCode        String @map(\"plan_code\") // \"PPPP\" (placeholder) or actual plan code\n  phaseOptionId   String @map(\"phase_option_id\")\n  materialClassId String @map(\"material_class_id\")\n\n  // Full Generated Code (for display/lookup)\n  fullCode String @unique @map(\"full_code\") // \"PPPP-020.000-**-1000\"\n\n  // Original Richmond Pack ID (for reference)\n  richmondPackId String? @map(\"richmond_pack_id\")\n  packName       String? @map(\"pack_name\")\n\n  // Item Information\n  itemNo   String? @map(\"item_no\") // \"1000\", \"1100\"\n  itemType String? @map(\"item_type\") // \"Framing\", \"Siding\"\n\n  // Shipping Order\n  shippingOrder Int? @map(\"shipping_order\")\n\n  description String?\n\n  // Pricing (for estimating)\n  estimatedPrice Decimal? @map(\"estimated_price\") @db.Decimal(10, 2)\n  estimatedCost  Decimal? @map(\"estimated_cost\") @db.Decimal(10, 2)\n\n  isActive Boolean @default(true) @map(\"is_active\")\n\n  createdAt DateTime @default(now()) @map(\"created_at\")\n  updatedAt DateTime @updatedAt @map(\"updated_at\")\n\n  // Relationships\n  phaseOption   PhaseOptionDefinition @relation(fields: [phaseOptionId], references: [id])\n  materialClass MaterialClass         @relation(fields: [materialClassId], references: [id])\n\n  // Many-to-many: Elevations and Richmond Options\n  elevations      Layer1CodeElevation[]\n  richmondOptions Layer1CodeRichmondOption[]\n  layer2Materials Layer2Material[]\n\n  @@index([fullCode])\n  @@index([planCode])\n  @@index([phaseOptionId])\n  @@index([materialClassId])\n  @@index([richmondPackId])\n  @@map(\"layer1_codes\")\n}\n\n// Layer 1 Code Elevation Associations\n// Solves Richmond's triple-encoding problem: single source of truth for elevations\nmodel Layer1CodeElevation {\n  id            String @id @default(uuid())\n  layer1CodeId  String @map(\"layer1_code_id\")\n  elevationCode String @map(\"elevation_code\") // \"A\", \"B\", \"C\", \"D\", or \"**\" for all\n\n  createdAt DateTime @default(now()) @map(\"created_at\")\n\n  // Relationships\n  layer1Code Layer1Code @relation(fields: [layer1CodeId], references: [id], onDelete: Cascade)\n\n  @@unique([layer1CodeId, elevationCode])\n  @@index([layer1CodeId])\n  @@index([elevationCode])\n  @@map(\"layer1_code_elevations\")\n}\n\n// Layer 1 Code Richmond Option Associations\n// Links Richmond option codes to Layer 1 codes for cross-referencing\nmodel Layer1CodeRichmondOption {\n  id               String @id @default(uuid())\n  layer1CodeId     String @map(\"layer1_code_id\")\n  richmondOptionId String @map(\"richmond_option_id\")\n\n  createdAt DateTime @default(now()) @map(\"created_at\")\n\n  // Relationships\n  layer1Code     Layer1Code         @relation(fields: [layer1CodeId], references: [id], onDelete: Cascade)\n  richmondOption RichmondOptionCode @relation(fields: [richmondOptionId], references: [id], onDelete: Cascade)\n\n  @@unique([layer1CodeId, richmondOptionId])\n  @@index([layer1CodeId])\n  @@index([richmondOptionId])\n  @@map(\"layer1_code_richmond_options\")\n}\n\n// Layer 2: Detailed Materials (SKU-level)\n// Links to existing Material model for purchasing and inventory\nmodel Layer2Material {\n  id           String @id @default(uuid())\n  layer1CodeId String @map(\"layer1_code_id\")\n\n  // Item Details\n  itemCode        String  @map(\"item_code\")\n  itemDescription String? @map(\"item_description\")\n\n  // Quantity and Units\n  quantity Decimal @default(0) @db.Decimal(10, 3)\n  unit     String\n\n  // Costing\n  unitCost Decimal? @map(\"unit_cost\") @db.Decimal(10, 2)\n\n  // Vendor Information\n  vendorCode             String? @map(\"vendor_code\")\n  manufacturerPartNumber String? @map(\"manufacturer_part_number\")\n\n  // Link to main Material catalog (optional)\n  materialId String? @map(\"material_id\")\n\n  notes    String?\n  isActive Boolean @default(true) @map(\"is_active\")\n\n  createdAt DateTime @default(now()) @map(\"created_at\")\n  updatedAt DateTime @updatedAt @map(\"updated_at\")\n\n  // Relationships\n  layer1Code Layer1Code @relation(fields: [layer1CodeId], references: [id], onDelete: Cascade)\n\n  @@unique([layer1CodeId, itemCode])\n  @@index([layer1CodeId])\n  @@index([itemCode])\n  @@index([materialId])\n  @@map(\"layer2_materials\")\n}\n\n// Option Suffix Definitions\n// Defines the .x01, .x02, etc. suffixes for option codes\nmodel OptionSuffix {\n  id           String  @id @default(uuid())\n  suffixCode   String  @unique @map(\"suffix_code\") // \"01\", \"03\", \"04\", etc.\n  abbreviation String // \"rf\", \"l\", \"nl\", \"x\", etc.\n  fullName     String  @map(\"full_name\") // \"ReadyFrame\", \"Loft\", etc.\n  description  String?\n\n  // Category for grouping\n  category String? // \"structural\", \"exterior\", etc.\n\n  isActive Boolean @default(true) @map(\"is_active\")\n\n  createdAt DateTime @default(now()) @map(\"created_at\")\n  updatedAt DateTime @updatedAt @map(\"updated_at\")\n\n  @@index([suffixCode])\n  @@index([abbreviation])\n  @@map(\"option_suffixes\")\n}\n\n// ============================================================================\n// FEEDBACK & LEARNING SYSTEM\n// ============================================================================\n// Captures feedback for continuous improvement of estimates, processes, and data quality\n\nenum FeedbackType {\n  VARIANCE_REPORT // Estimate vs Actual comparison\n  QUALITY_ISSUE // Data quality problem identified\n  PROCESS_FAILURE // Agent/automation failure\n  SUGGESTION // User improvement suggestion\n  CORRECTION // User corrected auto-generated data\n  THUMBS_UP // Quick positive feedback\n  THUMBS_DOWN // Quick negative feedback\n}\n\nenum FeedbackCategory {\n  MATERIAL // Material quantity/cost variance\n  TIMING // Schedule/timing variance\n  DOCUMENT // Document quality/completeness\n  ESTIMATE // Estimate accuracy\n  IMPORT // Data import quality\n  AGENT // Python agent performance\n  UI_UX // User interface feedback\n  OTHER // Miscellaneous\n}\n\nenum FeedbackStatus {\n  NEW // Just submitted\n  REVIEWED // Looked at by admin\n  IN_PROGRESS // Being addressed\n  RESOLVED // Fixed/implemented\n  DISMISSED // Not actionable\n  DEFERRED // Will address later\n}\n\n// Main Feedback entries\nmodel Feedback {\n  id           String           @id @default(uuid())\n  feedbackType FeedbackType     @map(\"feedback_type\")\n  category     FeedbackCategory @default(OTHER)\n\n  // Entity being rated/reviewed\n  entityType String  @map(\"entity_type\") // Job, Plan, Estimate, Agent, Import\n  entityId   String  @map(\"entity_id\")\n  entityName String? @map(\"entity_name\") // Human-readable reference\n\n  // Quick feedback\n  rating Int? // 1-5 star rating or -1/+1 for thumbs\n\n  // Variance tracking (for estimates)\n  estimatedValue  Decimal? @map(\"estimated_value\") @db.Decimal(12, 2)\n  actualValue     Decimal? @map(\"actual_value\") @db.Decimal(12, 2)\n  varianceAmount  Decimal? @map(\"variance_amount\") @db.Decimal(12, 2)\n  variancePercent Decimal? @map(\"variance_percent\") @db.Decimal(5, 2)\n\n  // Details\n  title       String?\n  description String? @db.Text\n  notes       String? @db.Text\n\n  // Context\n  context Json? // Additional structured data\n  tags    String[] @default([])\n\n  // Source tracking\n  source        String? // \"web\", \"agent\", \"import\", \"manual\"\n  submittedById String? @map(\"submitted_by_id\")\n  submittedBy   User?   @relation(\"FeedbackSubmitter\", fields: [submittedById], references: [id])\n\n  // Resolution tracking\n  status       FeedbackStatus @default(NEW)\n  resolvedById String?        @map(\"resolved_by_id\")\n  resolvedBy   User?          @relation(\"FeedbackResolver\", fields: [resolvedById], references: [id])\n  resolvedAt   DateTime?      @map(\"resolved_at\")\n  actionTaken  String?        @map(\"action_taken\") @db.Text\n\n  // Timestamps\n  createdAt DateTime @default(now()) @map(\"created_at\")\n  updatedAt DateTime @updatedAt @map(\"updated_at\")\n\n  // Relations\n  responses FeedbackResponse[]\n  patterns  FeedbackPattern[]  @relation(\"PatternFeedback\")\n\n  @@index([feedbackType])\n  @@index([category])\n  @@index([entityType, entityId])\n  @@index([status])\n  @@index([submittedById])\n  @@index([createdAt])\n  @@map(\"feedback\")\n}\n\n// Feedback responses/comments\nmodel FeedbackResponse {\n  id         String   @id @default(uuid())\n  feedbackId String   @map(\"feedback_id\")\n  feedback   Feedback @relation(fields: [feedbackId], references: [id], onDelete: Cascade)\n\n  responderId String @map(\"responder_id\")\n  responder   User   @relation(fields: [responderId], references: [id])\n\n  message    String  @db.Text\n  isInternal Boolean @default(false) @map(\"is_internal\") // Internal team notes\n\n  createdAt DateTime @default(now()) @map(\"created_at\")\n\n  @@index([feedbackId])\n  @@index([responderId])\n  @@map(\"feedback_responses\")\n}\n\n// Detected patterns from feedback analysis\nmodel FeedbackPattern {\n  id String @id @default(uuid())\n\n  // Pattern identification\n  patternType String  @map(\"pattern_type\") // \"over_estimate\", \"under_estimate\", \"missing_doc\"\n  patternName String  @map(\"pattern_name\")\n  description String? @db.Text\n\n  // Pattern scope\n  entityType String? @map(\"entity_type\") // Plan, Builder, MaterialClass, etc.\n  entityId   String? @map(\"entity_id\")\n  entityName String? @map(\"entity_name\")\n\n  // Statistics\n  occurrenceCount Int      @default(0) @map(\"occurrence_count\")\n  avgVariance     Decimal? @map(\"avg_variance\") @db.Decimal(12, 2)\n  avgVariancePct  Decimal? @map(\"avg_variance_pct\") @db.Decimal(5, 2)\n  totalImpact     Decimal? @map(\"total_impact\") @db.Decimal(12, 2)\n\n  // Confidence\n  confidence Decimal? @db.Decimal(3, 2) // 0.00 to 1.00\n  sampleSize Int      @default(0) @map(\"sample_size\")\n\n  // Recommended action\n  recommendation   String?  @db.Text\n  adjustmentFactor Decimal? @map(\"adjustment_factor\") @db.Decimal(5, 4) // e.g., 1.05 for 5% increase\n\n  // Status\n  isActive    Boolean   @default(true) @map(\"is_active\")\n  isApplied   Boolean   @default(false) @map(\"is_applied\") // Has adjustment been applied?\n  appliedAt   DateTime? @map(\"applied_at\")\n  appliedById String?   @map(\"applied_by_id\")\n\n  // Analysis metadata\n  lastAnalyzedAt DateTime? @map(\"last_analyzed_at\")\n\n  createdAt DateTime @default(now()) @map(\"created_at\")\n  updatedAt DateTime @updatedAt @map(\"updated_at\")\n\n  // Related feedback items that formed this pattern\n  feedbackItems Feedback[] @relation(\"PatternFeedback\")\n\n  @@index([patternType])\n  @@index([entityType, entityId])\n  @@index([isActive])\n  @@map(\"feedback_patterns\")\n}\n\n// Variance tracking summary (aggregate stats)\nmodel VarianceSummary {\n  id String @id @default(uuid())\n\n  // Period\n  periodType  String   @map(\"period_type\") // \"daily\", \"weekly\", \"monthly\"\n  periodStart DateTime @map(\"period_start\")\n  periodEnd   DateTime @map(\"period_end\")\n\n  // Scope\n  entityType String  @map(\"entity_type\") // \"all\", \"builder\", \"plan\", \"material_class\"\n  entityId   String? @map(\"entity_id\")\n  entityName String? @map(\"entity_name\")\n\n  // Aggregate statistics\n  totalEstimated  Decimal @map(\"total_estimated\") @db.Decimal(14, 2)\n  totalActual     Decimal @map(\"total_actual\") @db.Decimal(14, 2)\n  totalVariance   Decimal @map(\"total_variance\") @db.Decimal(14, 2)\n  variancePercent Decimal @map(\"variance_percent\") @db.Decimal(5, 2)\n\n  // Counts\n  jobCount       Int @map(\"job_count\")\n  overEstimates  Int @default(0) @map(\"over_estimates\")\n  underEstimates Int @default(0) @map(\"under_estimates\")\n  onTarget       Int @default(0) @map(\"on_target\") // Within threshold\n\n  // Distribution\n  avgVariance    Decimal? @map(\"avg_variance\") @db.Decimal(12, 2)\n  medianVariance Decimal? @map(\"median_variance\") @db.Decimal(12, 2)\n  stdDevVariance Decimal? @map(\"std_dev_variance\") @db.Decimal(12, 2)\n\n  createdAt DateTime @default(now()) @map(\"created_at\")\n\n  @@unique([periodType, periodStart, entityType, entityId])\n  @@index([periodType, periodStart])\n  @@index([entityType, entityId])\n  @@map(\"variance_summaries\")\n}\n",
  "inlineSchemaHash": "91855f3ec87c4f09cc830272b844554cbc95c52ed94125b8a7ace139b568829f",
  "copyEngine": true
}
config.dirname = '/'

config.runtimeDataModel = JSON.parse("{\"models\":{\"User\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"email\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"passwordHash\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"password_hash\"},{\"name\":\"firstName\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"first_name\"},{\"name\":\"lastName\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"last_name\"},{\"name\":\"role\",\"kind\":\"enum\",\"type\":\"UserRole\"},{\"name\":\"isActive\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"createdJobs\",\"kind\":\"object\",\"type\":\"Job\",\"relationName\":\"JobCreator\"},{\"name\":\"approvedJobs\",\"kind\":\"object\",\"type\":\"Job\",\"relationName\":\"JobApprover\"},{\"name\":\"auditLogs\",\"kind\":\"object\",\"type\":\"AuditLog\",\"relationName\":\"AuditLogToUser\"},{\"name\":\"notifications\",\"kind\":\"object\",\"type\":\"Notification\",\"relationName\":\"NotificationToUser\"},{\"name\":\"varianceReviews\",\"kind\":\"object\",\"type\":\"VarianceReview\",\"relationName\":\"UserToVarianceReview\"},{\"name\":\"activityLogs\",\"kind\":\"object\",\"type\":\"ActivityLog\",\"relationName\":\"ActivityLogToUser\"},{\"name\":\"pdssPlanAssigned\",\"kind\":\"object\",\"type\":\"PDSSPlanStatus\",\"relationName\":\"PDSSPlanStatusToUser\"},{\"name\":\"pdssJobAssigned\",\"kind\":\"object\",\"type\":\"PDSSJobStatus\",\"relationName\":\"PDSSJobStatusToUser\"},{\"name\":\"feedbackSubmitted\",\"kind\":\"object\",\"type\":\"Feedback\",\"relationName\":\"FeedbackSubmitter\"},{\"name\":\"feedbackResolved\",\"kind\":\"object\",\"type\":\"Feedback\",\"relationName\":\"FeedbackResolver\"},{\"name\":\"feedbackResponses\",\"kind\":\"object\",\"type\":\"FeedbackResponse\",\"relationName\":\"FeedbackResponseToUser\"}],\"dbName\":\"users\"},\"Customer\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"customerName\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"customer_name\"},{\"name\":\"customerType\",\"kind\":\"enum\",\"type\":\"CustomerType\",\"dbName\":\"customer_type\"},{\"name\":\"pricingTier\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"pricing_tier\"},{\"name\":\"primaryContactId\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"primary_contact_id\"},{\"name\":\"isActive\",\"kind\":\"scalar\",\"type\":\"Boolean\",\"dbName\":\"is_active\"},{\"name\":\"notes\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"created_at\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"updated_at\"},{\"name\":\"billToId\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"bill_to_id\"},{\"name\":\"customerId\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"customer_id_bat\"},{\"name\":\"salesId\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"sales_id\"},{\"name\":\"salespersonName\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"salesperson_name\"},{\"name\":\"locationCode\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"location_code\"},{\"name\":\"accountType\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"account_type\"},{\"name\":\"contacts\",\"kind\":\"object\",\"type\":\"CustomerContact\",\"relationName\":\"CustomerToCustomerContact\"},{\"name\":\"pricingTiers\",\"kind\":\"object\",\"type\":\"CustomerPricingTier\",\"relationName\":\"CustomerToCustomerPricingTier\"},{\"name\":\"externalIds\",\"kind\":\"object\",\"type\":\"CustomerExternalId\",\"relationName\":\"CustomerToCustomerExternalId\"},{\"name\":\"jobs\",\"kind\":\"object\",\"type\":\"Job\",\"relationName\":\"CustomerToJob\"},{\"name\":\"communities\",\"kind\":\"object\",\"type\":\"Community\",\"relationName\":\"CommunityToCustomer\"},{\"name\":\"plans\",\"kind\":\"object\",\"type\":\"Plan\",\"relationName\":\"CustomerToPlan\"},{\"name\":\"customerPricing\",\"kind\":\"object\",\"type\":\"CustomerPricing\",\"relationName\":\"CustomerToCustomerPricing\"},{\"name\":\"variancePatterns\",\"kind\":\"object\",\"type\":\"VariancePattern\",\"relationName\":\"CustomerToVariancePattern\"},{\"name\":\"portalOrders\",\"kind\":\"object\",\"type\":\"PortalOrder\",\"relationName\":\"CustomerToPortalOrder\"},{\"name\":\"portalDocuments\",\"kind\":\"object\",\"type\":\"PortalDocument\",\"relationName\":\"CustomerToPortalDocument\"},{\"name\":\"systemAlerts\",\"kind\":\"object\",\"type\":\"SystemAlert\",\"relationName\":\"CustomerToSystemAlert\"},{\"name\":\"activityLogs\",\"kind\":\"object\",\"type\":\"ActivityLog\",\"relationName\":\"ActivityLogToCustomer\"},{\"name\":\"pdssDocRequirements\",\"kind\":\"object\",\"type\":\"PDSSDocumentRequirement\",\"relationName\":\"CustomerToPDSSDocumentRequirement\"}],\"dbName\":\"customers\"},\"CustomerContact\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"customerId\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"customer_id\"},{\"name\":\"contactName\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"contact_name\"},{\"name\":\"role\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"email\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"phone\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"receivesNotifications\",\"kind\":\"scalar\",\"type\":\"Boolean\",\"dbName\":\"receives_notifications\"},{\"name\":\"isPrimary\",\"kind\":\"scalar\",\"type\":\"Boolean\",\"dbName\":\"is_primary\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"created_at\"},{\"name\":\"customer\",\"kind\":\"object\",\"type\":\"Customer\",\"relationName\":\"CustomerToCustomerContact\"}],\"dbName\":\"customer_contacts\"},\"CustomerPricingTier\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"customerId\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"customer_id\"},{\"name\":\"dartCategory\",\"kind\":\"scalar\",\"type\":\"Int\",\"dbName\":\"dart_category\"},{\"name\":\"dartCategoryName\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"dart_category_name\"},{\"name\":\"tier\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"tier\"},{\"name\":\"tierName\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"tier_name\"},{\"name\":\"discountPercentage\",\"kind\":\"scalar\",\"type\":\"Decimal\",\"dbName\":\"discount_percentage\"},{\"name\":\"effectiveDate\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"effective_date\"},{\"name\":\"expirationDate\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"expiration_date\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"created_at\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"updated_at\"},{\"name\":\"customer\",\"kind\":\"object\",\"type\":\"Customer\",\"relationName\":\"CustomerToCustomerPricingTier\"}],\"dbName\":\"customer_pricing_tiers\"},\"CustomerExternalId\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"customerId\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"customer_id\"},{\"name\":\"externalSystem\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"external_system\"},{\"name\":\"externalCustomerId\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"external_customer_id\"},{\"name\":\"externalCustomerName\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"external_customer_name\"},{\"name\":\"isPrimary\",\"kind\":\"scalar\",\"type\":\"Boolean\",\"dbName\":\"is_primary\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"created_at\"},{\"name\":\"customer\",\"kind\":\"object\",\"type\":\"Customer\",\"relationName\":\"CustomerToCustomerExternalId\"}],\"dbName\":\"customer_external_ids\"},\"CustomerPricing\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"customerId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"materialId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"overridePrice\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"overrideMargin\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"discountPercentage\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"effectiveDate\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"expiresAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"notes\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"customer\",\"kind\":\"object\",\"type\":\"Customer\",\"relationName\":\"CustomerToCustomerPricing\"},{\"name\":\"material\",\"kind\":\"object\",\"type\":\"Material\",\"relationName\":\"CustomerPricingToMaterial\"}],\"dbName\":null},\"Plan\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"code\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"name\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"customerPlanCode\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"customer_plan_code\"},{\"name\":\"builderId\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"builder_id\"},{\"name\":\"type\",\"kind\":\"enum\",\"type\":\"PlanType\"},{\"name\":\"sqft\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"bedrooms\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"bathrooms\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"garage\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"style\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"version\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"isActive\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"pdssUrl\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"notes\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"builder\",\"kind\":\"object\",\"type\":\"Customer\",\"relationName\":\"CustomerToPlan\"},{\"name\":\"elevations\",\"kind\":\"object\",\"type\":\"PlanElevation\",\"relationName\":\"PlanToPlanElevation\"},{\"name\":\"options\",\"kind\":\"object\",\"type\":\"PlanOption\",\"relationName\":\"PlanToPlanOption\"},{\"name\":\"assignedOptions\",\"kind\":\"object\",\"type\":\"PlanAssignedOption\",\"relationName\":\"PlanToPlanAssignedOption\"},{\"name\":\"templateItems\",\"kind\":\"object\",\"type\":\"PlanTemplateItem\",\"relationName\":\"PlanToPlanTemplateItem\"},{\"name\":\"jobs\",\"kind\":\"object\",\"type\":\"Job\",\"relationName\":\"JobToPlan\"},{\"name\":\"variancePatterns\",\"kind\":\"object\",\"type\":\"VariancePattern\",\"relationName\":\"PlanToVariancePattern\"},{\"name\":\"documents\",\"kind\":\"object\",\"type\":\"PlanDocument\",\"relationName\":\"PlanToPlanDocument\"},{\"name\":\"portalDocuments\",\"kind\":\"object\",\"type\":\"PortalDocument\",\"relationName\":\"PlanToPortalDocument\"},{\"name\":\"pdssStatus\",\"kind\":\"object\",\"type\":\"PDSSPlanStatus\",\"relationName\":\"PDSSPlanStatusToPlan\"}],\"dbName\":null},\"PlanElevation\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"planId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"code\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"name\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"description\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"imageUrl\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"architectDesigner\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"architectDesignerDate\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"structuralEngineer\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"structuralEngineerDate\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"iJoistCompany\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"iJoistCompanyDate\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"floorTrussCompany\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"floorTrussCompanyDate\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"roofTrussCompany\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"roofTrussCompanyDate\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"customDetails\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"currentVersion\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"plan\",\"kind\":\"object\",\"type\":\"Plan\",\"relationName\":\"PlanToPlanElevation\"},{\"name\":\"jobs\",\"kind\":\"object\",\"type\":\"Job\",\"relationName\":\"JobToPlanElevation\"},{\"name\":\"versionHistory\",\"kind\":\"object\",\"type\":\"ElevationVersion\",\"relationName\":\"ElevationVersionToPlanElevation\"},{\"name\":\"assignedOptions\",\"kind\":\"object\",\"type\":\"PlanAssignedOption\",\"relationName\":\"PlanAssignedOptionToPlanElevation\"},{\"name\":\"documents\",\"kind\":\"object\",\"type\":\"PlanDocument\",\"relationName\":\"PlanDocumentToPlanElevation\"},{\"name\":\"pdssStatus\",\"kind\":\"object\",\"type\":\"PDSSPlanStatus\",\"relationName\":\"PDSSPlanStatusToPlanElevation\"}],\"dbName\":null},\"ElevationVersion\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"elevationId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"version\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"changeNotes\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"changedBy\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"architectDesigner\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"architectDesignerDate\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"structuralEngineer\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"structuralEngineerDate\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"iJoistCompany\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"iJoistCompanyDate\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"floorTrussCompany\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"floorTrussCompanyDate\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"roofTrussCompany\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"roofTrussCompanyDate\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"customDetails\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"elevation\",\"kind\":\"object\",\"type\":\"PlanElevation\",\"relationName\":\"ElevationVersionToPlanElevation\"}],\"dbName\":null},\"PlanOption\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"code\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"name\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"description\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"category\",\"kind\":\"enum\",\"type\":\"OptionCategory\"},{\"name\":\"basePrice\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"triggersPacks\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"appliesTo\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"plans\",\"kind\":\"object\",\"type\":\"Plan\",\"relationName\":\"PlanToPlanOption\"},{\"name\":\"jobOptions\",\"kind\":\"object\",\"type\":\"JobOption\",\"relationName\":\"JobOptionToPlanOption\"}],\"dbName\":null},\"PlanAssignedOption\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"planId\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"plan_id\"},{\"name\":\"elevationId\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"elevation_id\"},{\"name\":\"name\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"description\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"category\",\"kind\":\"enum\",\"type\":\"OptionCategory\"},{\"name\":\"estimatedCost\",\"kind\":\"scalar\",\"type\":\"Decimal\",\"dbName\":\"estimated_cost\"},{\"name\":\"notes\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"isStandard\",\"kind\":\"scalar\",\"type\":\"Boolean\",\"dbName\":\"is_standard\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"plan\",\"kind\":\"object\",\"type\":\"Plan\",\"relationName\":\"PlanToPlanAssignedOption\"},{\"name\":\"elevation\",\"kind\":\"object\",\"type\":\"PlanElevation\",\"relationName\":\"PlanAssignedOptionToPlanElevation\"}],\"dbName\":null},\"PlanDocument\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"planId\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"plan_id\"},{\"name\":\"elevationId\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"elevation_id\"},{\"name\":\"fileName\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"file_name\"},{\"name\":\"fileType\",\"kind\":\"enum\",\"type\":\"DocumentType\",\"dbName\":\"file_type\"},{\"name\":\"filePath\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"file_path\"},{\"name\":\"fileSize\",\"kind\":\"scalar\",\"type\":\"Int\",\"dbName\":\"file_size\"},{\"name\":\"mimeType\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"mime_type\"},{\"name\":\"version\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"documentDate\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"document_date\"},{\"name\":\"isArchived\",\"kind\":\"scalar\",\"type\":\"Boolean\",\"dbName\":\"is_archived\"},{\"name\":\"archiveDate\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"archive_date\"},{\"name\":\"archiveNotes\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"archive_notes\"},{\"name\":\"changeNotes\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"change_notes\"},{\"name\":\"replacedById\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"replaced_by_id\"},{\"name\":\"replacedBy\",\"kind\":\"object\",\"type\":\"PlanDocument\",\"relationName\":\"DocumentReplacement\"},{\"name\":\"replaces\",\"kind\":\"object\",\"type\":\"PlanDocument\",\"relationName\":\"DocumentReplacement\"},{\"name\":\"uploadedBy\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"uploaded_by\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"created_at\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"updated_at\"},{\"name\":\"plan\",\"kind\":\"object\",\"type\":\"Plan\",\"relationName\":\"PlanToPlanDocument\"},{\"name\":\"elevation\",\"kind\":\"object\",\"type\":\"PlanElevation\",\"relationName\":\"PlanDocumentToPlanElevation\"}],\"dbName\":\"plan_documents\"},\"PlanTemplateItem\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"planId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"materialId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"quantity\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"unit\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"wasteFactor\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"category\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"subcategory\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"averageVariance\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"varianceCount\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"lastVarianceDate\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"confidenceScore\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"notes\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"plan\",\"kind\":\"object\",\"type\":\"Plan\",\"relationName\":\"PlanToPlanTemplateItem\"},{\"name\":\"material\",\"kind\":\"object\",\"type\":\"Material\",\"relationName\":\"MaterialToPlanTemplateItem\"}],\"dbName\":null},\"Material\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"sku\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"description\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"category\",\"kind\":\"enum\",\"type\":\"MaterialCategory\"},{\"name\":\"subcategory\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"dartCategory\",\"kind\":\"scalar\",\"type\":\"Int\",\"dbName\":\"dart_category\"},{\"name\":\"dartCategoryName\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"dart_category_name\"},{\"name\":\"unitOfMeasure\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"vendorCost\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"freight\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"isRLLinked\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"rlTag\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"rlBasePrice\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"rlLastUpdated\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"lengthAdders\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"gradeMultipliers\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"isActive\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"vendor\",\"kind\":\"object\",\"type\":\"Vendor\",\"relationName\":\"MaterialToVendor\"},{\"name\":\"vendorId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"pricingHistory\",\"kind\":\"object\",\"type\":\"PricingHistory\",\"relationName\":\"MaterialToPricingHistory\"},{\"name\":\"priceRevisions\",\"kind\":\"object\",\"type\":\"PriceRevision\",\"relationName\":\"MaterialToPriceRevision\"},{\"name\":\"templateItems\",\"kind\":\"object\",\"type\":\"PlanTemplateItem\",\"relationName\":\"MaterialToPlanTemplateItem\"},{\"name\":\"customerPricing\",\"kind\":\"object\",\"type\":\"CustomerPricing\",\"relationName\":\"CustomerPricingToMaterial\"},{\"name\":\"takeoffLineItems\",\"kind\":\"object\",\"type\":\"TakeoffLineItem\",\"relationName\":\"MaterialToTakeoffLineItem\"}],\"dbName\":null},\"Vendor\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"name\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"code\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"primaryContact\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"email\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"phone\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"paymentTerms\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"leadTimeDays\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"isActive\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"materials\",\"kind\":\"object\",\"type\":\"Material\",\"relationName\":\"MaterialToVendor\"},{\"name\":\"purchaseOrders\",\"kind\":\"object\",\"type\":\"PurchaseOrder\",\"relationName\":\"PurchaseOrderToVendor\"}],\"dbName\":null},\"PricingHistory\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"materialId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"baseVendorCost\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"commodityAdjustment\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"freight\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"totalCost\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"marginPercentage\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"marginAmount\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"unitPrice\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"calculationSteps\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"effectiveDate\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"expiresAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"material\",\"kind\":\"object\",\"type\":\"Material\",\"relationName\":\"MaterialToPricingHistory\"}],\"dbName\":null},\"RandomLengthsPricing\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"tag\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"description\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"price\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"unit\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"region\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"grade\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"effectiveDate\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"source\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":null},\"PriceRevision\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"materialId\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"material_id\"},{\"name\":\"revisionNumber\",\"kind\":\"scalar\",\"type\":\"Int\",\"dbName\":\"revision_number\"},{\"name\":\"revisionType\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"revision_type\"},{\"name\":\"tierPrices\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"vendorCost\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"freight\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"commodityFactor\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"baseMargin\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"effectiveDate\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"effective_date\"},{\"name\":\"expiresAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"expires_at\"},{\"name\":\"changedBy\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"changed_by\"},{\"name\":\"changeReason\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"change_reason\"},{\"name\":\"notes\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"batImportDate\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"bat_import_date\"},{\"name\":\"batFileName\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"bat_file_name\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"created_at\"},{\"name\":\"material\",\"kind\":\"object\",\"type\":\"Material\",\"relationName\":\"MaterialToPriceRevision\"}],\"dbName\":\"price_revisions\"},\"Community\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"name\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"customerId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"shippingYard\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"jurisdiction\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"region\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"activePlans\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"isActive\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"specialRequirements\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"customer\",\"kind\":\"object\",\"type\":\"Customer\",\"relationName\":\"CommunityToCustomer\"},{\"name\":\"lots\",\"kind\":\"object\",\"type\":\"Lot\",\"relationName\":\"CommunityToLot\"},{\"name\":\"jobs\",\"kind\":\"object\",\"type\":\"Job\",\"relationName\":\"CommunityToJob\"},{\"name\":\"variancePatterns\",\"kind\":\"object\",\"type\":\"VariancePattern\",\"relationName\":\"CommunityToVariancePattern\"},{\"name\":\"portalOrders\",\"kind\":\"object\",\"type\":\"PortalOrder\",\"relationName\":\"CommunityToPortalOrder\"},{\"name\":\"portalDocuments\",\"kind\":\"object\",\"type\":\"PortalDocument\",\"relationName\":\"CommunityToPortalDocument\"},{\"name\":\"systemAlerts\",\"kind\":\"object\",\"type\":\"SystemAlert\",\"relationName\":\"CommunityToSystemAlert\"},{\"name\":\"deliverySchedules\",\"kind\":\"object\",\"type\":\"DeliverySchedule\",\"relationName\":\"CommunityToDeliverySchedule\"}],\"dbName\":null},\"Lot\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"communityId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"lotNumber\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"status\",\"kind\":\"enum\",\"type\":\"LotStatus\"},{\"name\":\"sqft\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"frontage\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"depth\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"notes\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"community\",\"kind\":\"object\",\"type\":\"Community\",\"relationName\":\"CommunityToLot\"},{\"name\":\"jobs\",\"kind\":\"object\",\"type\":\"Job\",\"relationName\":\"JobToLot\"}],\"dbName\":null},\"Job\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"jobNumber\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"customerId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"planId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"elevationId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"communityId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"lotId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"status\",\"kind\":\"enum\",\"type\":\"JobStatus\"},{\"name\":\"estimatedCost\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"actualCost\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"margin\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"createdById\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"approvedById\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"approvedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"startDate\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"completionDate\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"notes\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"folderPath\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"customer\",\"kind\":\"object\",\"type\":\"Customer\",\"relationName\":\"CustomerToJob\"},{\"name\":\"plan\",\"kind\":\"object\",\"type\":\"Plan\",\"relationName\":\"JobToPlan\"},{\"name\":\"elevation\",\"kind\":\"object\",\"type\":\"PlanElevation\",\"relationName\":\"JobToPlanElevation\"},{\"name\":\"community\",\"kind\":\"object\",\"type\":\"Community\",\"relationName\":\"CommunityToJob\"},{\"name\":\"lot\",\"kind\":\"object\",\"type\":\"Lot\",\"relationName\":\"JobToLot\"},{\"name\":\"createdBy\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"JobCreator\"},{\"name\":\"approvedBy\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"JobApprover\"},{\"name\":\"jobOptions\",\"kind\":\"object\",\"type\":\"JobOption\",\"relationName\":\"JobToJobOption\"},{\"name\":\"takeoff\",\"kind\":\"object\",\"type\":\"Takeoff\",\"relationName\":\"JobToTakeoff\"},{\"name\":\"purchaseOrders\",\"kind\":\"object\",\"type\":\"PurchaseOrder\",\"relationName\":\"JobToPurchaseOrder\"},{\"name\":\"pdssStatus\",\"kind\":\"object\",\"type\":\"PDSSJobStatus\",\"relationName\":\"JobToPDSSJobStatus\"}],\"dbName\":null},\"JobOption\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"jobId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"optionId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"quantity\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"price\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"job\",\"kind\":\"object\",\"type\":\"Job\",\"relationName\":\"JobToJobOption\"},{\"name\":\"option\",\"kind\":\"object\",\"type\":\"PlanOption\",\"relationName\":\"JobOptionToPlanOption\"}],\"dbName\":null},\"Takeoff\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"jobId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"status\",\"kind\":\"enum\",\"type\":\"TakeoffStatus\"},{\"name\":\"isValidated\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"validatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"validationResults\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"totalEstimated\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"totalActual\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"job\",\"kind\":\"object\",\"type\":\"Job\",\"relationName\":\"JobToTakeoff\"},{\"name\":\"lineItems\",\"kind\":\"object\",\"type\":\"TakeoffLineItem\",\"relationName\":\"TakeoffToTakeoffLineItem\"},{\"name\":\"validation\",\"kind\":\"object\",\"type\":\"TakeoffValidation\",\"relationName\":\"TakeoffToTakeoffValidation\"}],\"dbName\":null},\"TakeoffLineItem\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"takeoffId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"materialId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"quantityEstimated\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"quantityActual\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"unit\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"unitPrice\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"totalEstimated\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"totalActual\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"variance\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"variancePercent\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"varianceReason\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"category\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"subcategory\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"notes\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"takeoff\",\"kind\":\"object\",\"type\":\"Takeoff\",\"relationName\":\"TakeoffToTakeoffLineItem\"},{\"name\":\"material\",\"kind\":\"object\",\"type\":\"Material\",\"relationName\":\"MaterialToTakeoffLineItem\"}],\"dbName\":null},\"TakeoffValidation\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"takeoffId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"specCompliant\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"pricingCurrent\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"varianceAcceptable\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"issues\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"warnings\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"comparedToJobs\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"avgVariance\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"validatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"takeoff\",\"kind\":\"object\",\"type\":\"Takeoff\",\"relationName\":\"TakeoffToTakeoffValidation\"}],\"dbName\":null},\"PurchaseOrder\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"poNumber\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"jobId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"vendorId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"status\",\"kind\":\"enum\",\"type\":\"POStatus\"},{\"name\":\"totalAmount\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"approvedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"sentAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"confirmedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"deliveredAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"scheduledDelivery\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"actualDelivery\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"deliveryNotes\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"hyphenBuildProId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"holtPortalId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"signatureUrl\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"photoUrls\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"job\",\"kind\":\"object\",\"type\":\"Job\",\"relationName\":\"JobToPurchaseOrder\"},{\"name\":\"vendor\",\"kind\":\"object\",\"type\":\"Vendor\",\"relationName\":\"PurchaseOrderToVendor\"}],\"dbName\":null},\"VariancePattern\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"scope\",\"kind\":\"enum\",\"type\":\"VarianceScope\"},{\"name\":\"planId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"communityId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"customerId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"region\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"materialCategory\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"subcategory\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"sampleSize\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"avgVariance\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"stdDeviation\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"confidenceScore\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"recommendedAdjustment\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"reasoning\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"status\",\"kind\":\"enum\",\"type\":\"PatternStatus\"},{\"name\":\"reviewedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"appliedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"plan\",\"kind\":\"object\",\"type\":\"Plan\",\"relationName\":\"PlanToVariancePattern\"},{\"name\":\"community\",\"kind\":\"object\",\"type\":\"Community\",\"relationName\":\"CommunityToVariancePattern\"},{\"name\":\"customer\",\"kind\":\"object\",\"type\":\"Customer\",\"relationName\":\"CustomerToVariancePattern\"},{\"name\":\"reviews\",\"kind\":\"object\",\"type\":\"VarianceReview\",\"relationName\":\"VariancePatternToVarianceReview\"}],\"dbName\":null},\"VarianceReview\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"patternId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"reviewerId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"decision\",\"kind\":\"enum\",\"type\":\"ReviewDecision\"},{\"name\":\"notes\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"reviewedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"pattern\",\"kind\":\"object\",\"type\":\"VariancePattern\",\"relationName\":\"VariancePatternToVarianceReview\"},{\"name\":\"reviewer\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"UserToVarianceReview\"}],\"dbName\":null},\"Notification\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"type\",\"kind\":\"enum\",\"type\":\"NotificationType\"},{\"name\":\"title\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"message\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"actionUrl\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"isRead\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"readAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"user\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"NotificationToUser\"}],\"dbName\":null},\"AuditLog\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"action\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"entityType\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"entityId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"changes\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"ipAddress\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"userAgent\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"user\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"AuditLogToUser\"}],\"dbName\":null},\"PortalOrder\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"externalId\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"external_id\"},{\"name\":\"portal\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"orderType\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"order_type\"},{\"name\":\"category\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"status\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"amount\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"description\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"dueDate\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"due_date\"},{\"name\":\"completedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"completed_at\"},{\"name\":\"customerId\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"customer_id\"},{\"name\":\"customer\",\"kind\":\"object\",\"type\":\"Customer\",\"relationName\":\"CustomerToPortalOrder\"},{\"name\":\"communityId\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"community_id\"},{\"name\":\"community\",\"kind\":\"object\",\"type\":\"Community\",\"relationName\":\"CommunityToPortalOrder\"},{\"name\":\"lotNumber\",\"kind\":\"scalar\",\"type\":\"Int\",\"dbName\":\"lot_number\"},{\"name\":\"rawData\",\"kind\":\"scalar\",\"type\":\"Json\",\"dbName\":\"raw_data\"},{\"name\":\"syncedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"synced_at\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"created_at\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"updated_at\"}],\"dbName\":\"portal_orders\"},\"PortalDocument\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"externalId\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"external_id\"},{\"name\":\"portal\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"filename\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"docType\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"doc_type\"},{\"name\":\"fileUrl\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"file_url\"},{\"name\":\"fileSize\",\"kind\":\"scalar\",\"type\":\"Int\",\"dbName\":\"file_size\"},{\"name\":\"customerId\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"customer_id\"},{\"name\":\"customer\",\"kind\":\"object\",\"type\":\"Customer\",\"relationName\":\"CustomerToPortalDocument\"},{\"name\":\"communityId\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"community_id\"},{\"name\":\"community\",\"kind\":\"object\",\"type\":\"Community\",\"relationName\":\"CommunityToPortalDocument\"},{\"name\":\"planId\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"plan_id\"},{\"name\":\"plan\",\"kind\":\"object\",\"type\":\"Plan\",\"relationName\":\"PlanToPortalDocument\"},{\"name\":\"lotNumber\",\"kind\":\"scalar\",\"type\":\"Int\",\"dbName\":\"lot_number\"},{\"name\":\"status\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"processedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"processed_at\"},{\"name\":\"syncedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"synced_at\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"created_at\"}],\"dbName\":\"portal_documents\"},\"SystemAlert\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"alertType\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"alert_type\"},{\"name\":\"source\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"title\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"message\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"details\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"actionUrl\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"action_url\"},{\"name\":\"customerId\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"customer_id\"},{\"name\":\"customer\",\"kind\":\"object\",\"type\":\"Customer\",\"relationName\":\"CustomerToSystemAlert\"},{\"name\":\"communityId\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"community_id\"},{\"name\":\"community\",\"kind\":\"object\",\"type\":\"Community\",\"relationName\":\"CommunityToSystemAlert\"},{\"name\":\"orderId\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"order_id\"},{\"name\":\"isRead\",\"kind\":\"scalar\",\"type\":\"Boolean\",\"dbName\":\"is_read\"},{\"name\":\"isDismissed\",\"kind\":\"scalar\",\"type\":\"Boolean\",\"dbName\":\"is_dismissed\"},{\"name\":\"readAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"read_at\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"created_at\"}],\"dbName\":\"system_alerts\"},\"ActivityLog\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"activityType\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"activity_type\"},{\"name\":\"title\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"detail\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"amount\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"icon\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"user_id\"},{\"name\":\"user\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"ActivityLogToUser\"},{\"name\":\"customerId\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"customer_id\"},{\"name\":\"customer\",\"kind\":\"object\",\"type\":\"Customer\",\"relationName\":\"ActivityLogToCustomer\"},{\"name\":\"orderId\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"order_id\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"created_at\"}],\"dbName\":\"activity_logs\"},\"DeliverySchedule\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"portal\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"orderId\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"order_id\"},{\"name\":\"scheduledTime\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"scheduled_time\"},{\"name\":\"title\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"location\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"status\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"communityId\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"community_id\"},{\"name\":\"community\",\"kind\":\"object\",\"type\":\"Community\",\"relationName\":\"CommunityToDeliverySchedule\"},{\"name\":\"lotNumber\",\"kind\":\"scalar\",\"type\":\"Int\",\"dbName\":\"lot_number\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"created_at\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"updated_at\"}],\"dbName\":\"delivery_schedules\"},\"PortalSyncLog\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"portal\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"syncType\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"sync_type\"},{\"name\":\"status\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"itemsFound\",\"kind\":\"scalar\",\"type\":\"Int\",\"dbName\":\"items_found\"},{\"name\":\"itemsProcessed\",\"kind\":\"scalar\",\"type\":\"Int\",\"dbName\":\"items_processed\"},{\"name\":\"errors\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"startedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"started_at\"},{\"name\":\"completedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"completed_at\"}],\"dbName\":\"portal_sync_logs\"},\"PDSSDocumentRequirement\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"customerId\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"customer_id\"},{\"name\":\"customer\",\"kind\":\"object\",\"type\":\"Customer\",\"relationName\":\"CustomerToPDSSDocumentRequirement\"},{\"name\":\"docType\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"doc_type\"},{\"name\":\"docName\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"doc_name\"},{\"name\":\"isRequired\",\"kind\":\"scalar\",\"type\":\"Boolean\",\"dbName\":\"is_required\"},{\"name\":\"description\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"requiredByPhase\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"required_by_phase\"},{\"name\":\"daysBeforeStart\",\"kind\":\"scalar\",\"type\":\"Int\",\"dbName\":\"days_before_start\"},{\"name\":\"sortOrder\",\"kind\":\"scalar\",\"type\":\"Int\",\"dbName\":\"sort_order\"},{\"name\":\"isActive\",\"kind\":\"scalar\",\"type\":\"Boolean\",\"dbName\":\"is_active\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"created_at\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"updated_at\"},{\"name\":\"documentStatuses\",\"kind\":\"object\",\"type\":\"PDSSDocumentStatus\",\"relationName\":\"PDSSDocumentRequirementToPDSSDocumentStatus\"}],\"dbName\":\"pdss_document_requirements\"},\"PDSSPlanStatus\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"planId\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"plan_id\"},{\"name\":\"plan\",\"kind\":\"object\",\"type\":\"Plan\",\"relationName\":\"PDSSPlanStatusToPlan\"},{\"name\":\"elevationId\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"elevation_id\"},{\"name\":\"elevation\",\"kind\":\"object\",\"type\":\"PlanElevation\",\"relationName\":\"PDSSPlanStatusToPlanElevation\"},{\"name\":\"planStatus\",\"kind\":\"enum\",\"type\":\"PDSSStatus\",\"dbName\":\"plan_status\"},{\"name\":\"takeoffStatus\",\"kind\":\"enum\",\"type\":\"PDSSTakeoffStatus\",\"dbName\":\"takeoff_status\"},{\"name\":\"quoteStatus\",\"kind\":\"enum\",\"type\":\"PDSSQuoteStatus\",\"dbName\":\"quote_status\"},{\"name\":\"documentsComplete\",\"kind\":\"scalar\",\"type\":\"Boolean\",\"dbName\":\"documents_complete\"},{\"name\":\"documentCount\",\"kind\":\"scalar\",\"type\":\"Int\",\"dbName\":\"document_count\"},{\"name\":\"assignedToId\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"assigned_to_id\"},{\"name\":\"assignedTo\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"PDSSPlanStatusToUser\"},{\"name\":\"priority\",\"kind\":\"enum\",\"type\":\"PDSSPriority\"},{\"name\":\"dueDate\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"due_date\"},{\"name\":\"notes\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"created_at\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"updated_at\"},{\"name\":\"documentStatuses\",\"kind\":\"object\",\"type\":\"PDSSDocumentStatus\",\"relationName\":\"PDSSDocumentStatusToPDSSPlanStatus\"}],\"dbName\":\"pdss_plan_status\"},\"PDSSJobStatus\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"jobId\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"job_id\"},{\"name\":\"job\",\"kind\":\"object\",\"type\":\"Job\",\"relationName\":\"JobToPDSSJobStatus\"},{\"name\":\"planStatus\",\"kind\":\"enum\",\"type\":\"PDSSStatus\",\"dbName\":\"plan_status\"},{\"name\":\"takeoffStatus\",\"kind\":\"enum\",\"type\":\"PDSSTakeoffStatus\",\"dbName\":\"takeoff_status\"},{\"name\":\"quoteStatus\",\"kind\":\"enum\",\"type\":\"PDSSQuoteStatus\",\"dbName\":\"quote_status\"},{\"name\":\"documentsComplete\",\"kind\":\"scalar\",\"type\":\"Boolean\",\"dbName\":\"documents_complete\"},{\"name\":\"missingDocuments\",\"kind\":\"scalar\",\"type\":\"Json\",\"dbName\":\"missing_documents\"},{\"name\":\"assignedToId\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"assigned_to_id\"},{\"name\":\"assignedTo\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"PDSSJobStatusToUser\"},{\"name\":\"priority\",\"kind\":\"enum\",\"type\":\"PDSSPriority\"},{\"name\":\"dueDate\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"due_date\"},{\"name\":\"alertsSent\",\"kind\":\"scalar\",\"type\":\"Int\",\"dbName\":\"alerts_sent\"},{\"name\":\"lastAlertAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"last_alert_at\"},{\"name\":\"notes\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"created_at\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"updated_at\"}],\"dbName\":\"pdss_job_status\"},\"PDSSDocumentStatus\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"requirementId\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"requirement_id\"},{\"name\":\"requirement\",\"kind\":\"object\",\"type\":\"PDSSDocumentRequirement\",\"relationName\":\"PDSSDocumentRequirementToPDSSDocumentStatus\"},{\"name\":\"planStatusId\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"plan_status_id\"},{\"name\":\"planStatus\",\"kind\":\"object\",\"type\":\"PDSSPlanStatus\",\"relationName\":\"PDSSDocumentStatusToPDSSPlanStatus\"},{\"name\":\"status\",\"kind\":\"enum\",\"type\":\"DocumentReceiptStatus\"},{\"name\":\"receivedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"received_at\"},{\"name\":\"verifiedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"verified_at\"},{\"name\":\"verifiedById\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"verified_by_id\"},{\"name\":\"documentUrl\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"document_url\"},{\"name\":\"documentVersion\",\"kind\":\"scalar\",\"type\":\"Int\",\"dbName\":\"document_version\"},{\"name\":\"notes\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"created_at\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"updated_at\"}],\"dbName\":\"pdss_document_status\"},\"MaterialClass\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"classCode\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"class_code\"},{\"name\":\"className\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"class_name\"},{\"name\":\"description\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"sortOrder\",\"kind\":\"scalar\",\"type\":\"Int\",\"dbName\":\"sort_order\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"created_at\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"updated_at\"},{\"name\":\"phaseOptions\",\"kind\":\"object\",\"type\":\"PhaseOptionDefinition\",\"relationName\":\"MaterialClassToPhaseOptionDefinition\"},{\"name\":\"layer1Codes\",\"kind\":\"object\",\"type\":\"Layer1Code\",\"relationName\":\"Layer1CodeToMaterialClass\"}],\"dbName\":\"material_classes\"},\"PhaseOptionDefinition\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"phaseCode\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"phase_code\"},{\"name\":\"phaseName\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"phase_name\"},{\"name\":\"isBasePhase\",\"kind\":\"scalar\",\"type\":\"Boolean\",\"dbName\":\"is_base_phase\"},{\"name\":\"isOption\",\"kind\":\"scalar\",\"type\":\"Boolean\",\"dbName\":\"is_option\"},{\"name\":\"isAlphaVariant\",\"kind\":\"scalar\",\"type\":\"Boolean\",\"dbName\":\"is_alpha_variant\"},{\"name\":\"materialClassId\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"material_class_id\"},{\"name\":\"shippingOrder\",\"kind\":\"scalar\",\"type\":\"Int\",\"dbName\":\"shipping_order\"},{\"name\":\"description\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"created_at\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"updated_at\"},{\"name\":\"materialClass\",\"kind\":\"object\",\"type\":\"MaterialClass\",\"relationName\":\"MaterialClassToPhaseOptionDefinition\"},{\"name\":\"layer1Codes\",\"kind\":\"object\",\"type\":\"Layer1Code\",\"relationName\":\"Layer1CodeToPhaseOptionDefinition\"},{\"name\":\"richmondOptions\",\"kind\":\"object\",\"type\":\"RichmondOptionCode\",\"relationName\":\"PhaseOptionDefinitionToRichmondOptionCode\"}],\"dbName\":\"phase_option_definitions\"},\"RichmondOptionCode\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"optionCode\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"option_code\"},{\"name\":\"optionDescription\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"option_description\"},{\"name\":\"phaseId\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"phase_id\"},{\"name\":\"isMultiPhase\",\"kind\":\"scalar\",\"type\":\"Boolean\",\"dbName\":\"is_multi_phase\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"created_at\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"updated_at\"},{\"name\":\"phase\",\"kind\":\"object\",\"type\":\"PhaseOptionDefinition\",\"relationName\":\"PhaseOptionDefinitionToRichmondOptionCode\"},{\"name\":\"layer1CodeOptions\",\"kind\":\"object\",\"type\":\"Layer1CodeRichmondOption\",\"relationName\":\"Layer1CodeRichmondOptionToRichmondOptionCode\"}],\"dbName\":\"richmond_option_codes\"},\"Layer1Code\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"planCode\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"plan_code\"},{\"name\":\"phaseOptionId\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"phase_option_id\"},{\"name\":\"materialClassId\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"material_class_id\"},{\"name\":\"fullCode\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"full_code\"},{\"name\":\"richmondPackId\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"richmond_pack_id\"},{\"name\":\"packName\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"pack_name\"},{\"name\":\"itemNo\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"item_no\"},{\"name\":\"itemType\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"item_type\"},{\"name\":\"shippingOrder\",\"kind\":\"scalar\",\"type\":\"Int\",\"dbName\":\"shipping_order\"},{\"name\":\"description\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"estimatedPrice\",\"kind\":\"scalar\",\"type\":\"Decimal\",\"dbName\":\"estimated_price\"},{\"name\":\"estimatedCost\",\"kind\":\"scalar\",\"type\":\"Decimal\",\"dbName\":\"estimated_cost\"},{\"name\":\"isActive\",\"kind\":\"scalar\",\"type\":\"Boolean\",\"dbName\":\"is_active\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"created_at\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"updated_at\"},{\"name\":\"phaseOption\",\"kind\":\"object\",\"type\":\"PhaseOptionDefinition\",\"relationName\":\"Layer1CodeToPhaseOptionDefinition\"},{\"name\":\"materialClass\",\"kind\":\"object\",\"type\":\"MaterialClass\",\"relationName\":\"Layer1CodeToMaterialClass\"},{\"name\":\"elevations\",\"kind\":\"object\",\"type\":\"Layer1CodeElevation\",\"relationName\":\"Layer1CodeToLayer1CodeElevation\"},{\"name\":\"richmondOptions\",\"kind\":\"object\",\"type\":\"Layer1CodeRichmondOption\",\"relationName\":\"Layer1CodeToLayer1CodeRichmondOption\"},{\"name\":\"layer2Materials\",\"kind\":\"object\",\"type\":\"Layer2Material\",\"relationName\":\"Layer1CodeToLayer2Material\"}],\"dbName\":\"layer1_codes\"},\"Layer1CodeElevation\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"layer1CodeId\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"layer1_code_id\"},{\"name\":\"elevationCode\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"elevation_code\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"created_at\"},{\"name\":\"layer1Code\",\"kind\":\"object\",\"type\":\"Layer1Code\",\"relationName\":\"Layer1CodeToLayer1CodeElevation\"}],\"dbName\":\"layer1_code_elevations\"},\"Layer1CodeRichmondOption\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"layer1CodeId\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"layer1_code_id\"},{\"name\":\"richmondOptionId\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"richmond_option_id\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"created_at\"},{\"name\":\"layer1Code\",\"kind\":\"object\",\"type\":\"Layer1Code\",\"relationName\":\"Layer1CodeToLayer1CodeRichmondOption\"},{\"name\":\"richmondOption\",\"kind\":\"object\",\"type\":\"RichmondOptionCode\",\"relationName\":\"Layer1CodeRichmondOptionToRichmondOptionCode\"}],\"dbName\":\"layer1_code_richmond_options\"},\"Layer2Material\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"layer1CodeId\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"layer1_code_id\"},{\"name\":\"itemCode\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"item_code\"},{\"name\":\"itemDescription\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"item_description\"},{\"name\":\"quantity\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"unit\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"unitCost\",\"kind\":\"scalar\",\"type\":\"Decimal\",\"dbName\":\"unit_cost\"},{\"name\":\"vendorCode\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"vendor_code\"},{\"name\":\"manufacturerPartNumber\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"manufacturer_part_number\"},{\"name\":\"materialId\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"material_id\"},{\"name\":\"notes\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"isActive\",\"kind\":\"scalar\",\"type\":\"Boolean\",\"dbName\":\"is_active\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"created_at\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"updated_at\"},{\"name\":\"layer1Code\",\"kind\":\"object\",\"type\":\"Layer1Code\",\"relationName\":\"Layer1CodeToLayer2Material\"}],\"dbName\":\"layer2_materials\"},\"OptionSuffix\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"suffixCode\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"suffix_code\"},{\"name\":\"abbreviation\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"fullName\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"full_name\"},{\"name\":\"description\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"category\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"isActive\",\"kind\":\"scalar\",\"type\":\"Boolean\",\"dbName\":\"is_active\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"created_at\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"updated_at\"}],\"dbName\":\"option_suffixes\"},\"Feedback\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"feedbackType\",\"kind\":\"enum\",\"type\":\"FeedbackType\",\"dbName\":\"feedback_type\"},{\"name\":\"category\",\"kind\":\"enum\",\"type\":\"FeedbackCategory\"},{\"name\":\"entityType\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"entity_type\"},{\"name\":\"entityId\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"entity_id\"},{\"name\":\"entityName\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"entity_name\"},{\"name\":\"rating\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"estimatedValue\",\"kind\":\"scalar\",\"type\":\"Decimal\",\"dbName\":\"estimated_value\"},{\"name\":\"actualValue\",\"kind\":\"scalar\",\"type\":\"Decimal\",\"dbName\":\"actual_value\"},{\"name\":\"varianceAmount\",\"kind\":\"scalar\",\"type\":\"Decimal\",\"dbName\":\"variance_amount\"},{\"name\":\"variancePercent\",\"kind\":\"scalar\",\"type\":\"Decimal\",\"dbName\":\"variance_percent\"},{\"name\":\"title\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"description\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"notes\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"context\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"tags\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"source\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"submittedById\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"submitted_by_id\"},{\"name\":\"submittedBy\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"FeedbackSubmitter\"},{\"name\":\"status\",\"kind\":\"enum\",\"type\":\"FeedbackStatus\"},{\"name\":\"resolvedById\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"resolved_by_id\"},{\"name\":\"resolvedBy\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"FeedbackResolver\"},{\"name\":\"resolvedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"resolved_at\"},{\"name\":\"actionTaken\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"action_taken\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"created_at\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"updated_at\"},{\"name\":\"responses\",\"kind\":\"object\",\"type\":\"FeedbackResponse\",\"relationName\":\"FeedbackToFeedbackResponse\"},{\"name\":\"patterns\",\"kind\":\"object\",\"type\":\"FeedbackPattern\",\"relationName\":\"PatternFeedback\"}],\"dbName\":\"feedback\"},\"FeedbackResponse\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"feedbackId\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"feedback_id\"},{\"name\":\"feedback\",\"kind\":\"object\",\"type\":\"Feedback\",\"relationName\":\"FeedbackToFeedbackResponse\"},{\"name\":\"responderId\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"responder_id\"},{\"name\":\"responder\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"FeedbackResponseToUser\"},{\"name\":\"message\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"isInternal\",\"kind\":\"scalar\",\"type\":\"Boolean\",\"dbName\":\"is_internal\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"created_at\"}],\"dbName\":\"feedback_responses\"},\"FeedbackPattern\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"patternType\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"pattern_type\"},{\"name\":\"patternName\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"pattern_name\"},{\"name\":\"description\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"entityType\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"entity_type\"},{\"name\":\"entityId\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"entity_id\"},{\"name\":\"entityName\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"entity_name\"},{\"name\":\"occurrenceCount\",\"kind\":\"scalar\",\"type\":\"Int\",\"dbName\":\"occurrence_count\"},{\"name\":\"avgVariance\",\"kind\":\"scalar\",\"type\":\"Decimal\",\"dbName\":\"avg_variance\"},{\"name\":\"avgVariancePct\",\"kind\":\"scalar\",\"type\":\"Decimal\",\"dbName\":\"avg_variance_pct\"},{\"name\":\"totalImpact\",\"kind\":\"scalar\",\"type\":\"Decimal\",\"dbName\":\"total_impact\"},{\"name\":\"confidence\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"sampleSize\",\"kind\":\"scalar\",\"type\":\"Int\",\"dbName\":\"sample_size\"},{\"name\":\"recommendation\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"adjustmentFactor\",\"kind\":\"scalar\",\"type\":\"Decimal\",\"dbName\":\"adjustment_factor\"},{\"name\":\"isActive\",\"kind\":\"scalar\",\"type\":\"Boolean\",\"dbName\":\"is_active\"},{\"name\":\"isApplied\",\"kind\":\"scalar\",\"type\":\"Boolean\",\"dbName\":\"is_applied\"},{\"name\":\"appliedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"applied_at\"},{\"name\":\"appliedById\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"applied_by_id\"},{\"name\":\"lastAnalyzedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"last_analyzed_at\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"created_at\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"updated_at\"},{\"name\":\"feedbackItems\",\"kind\":\"object\",\"type\":\"Feedback\",\"relationName\":\"PatternFeedback\"}],\"dbName\":\"feedback_patterns\"},\"VarianceSummary\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"periodType\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"period_type\"},{\"name\":\"periodStart\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"period_start\"},{\"name\":\"periodEnd\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"period_end\"},{\"name\":\"entityType\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"entity_type\"},{\"name\":\"entityId\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"entity_id\"},{\"name\":\"entityName\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"entity_name\"},{\"name\":\"totalEstimated\",\"kind\":\"scalar\",\"type\":\"Decimal\",\"dbName\":\"total_estimated\"},{\"name\":\"totalActual\",\"kind\":\"scalar\",\"type\":\"Decimal\",\"dbName\":\"total_actual\"},{\"name\":\"totalVariance\",\"kind\":\"scalar\",\"type\":\"Decimal\",\"dbName\":\"total_variance\"},{\"name\":\"variancePercent\",\"kind\":\"scalar\",\"type\":\"Decimal\",\"dbName\":\"variance_percent\"},{\"name\":\"jobCount\",\"kind\":\"scalar\",\"type\":\"Int\",\"dbName\":\"job_count\"},{\"name\":\"overEstimates\",\"kind\":\"scalar\",\"type\":\"Int\",\"dbName\":\"over_estimates\"},{\"name\":\"underEstimates\",\"kind\":\"scalar\",\"type\":\"Int\",\"dbName\":\"under_estimates\"},{\"name\":\"onTarget\",\"kind\":\"scalar\",\"type\":\"Int\",\"dbName\":\"on_target\"},{\"name\":\"avgVariance\",\"kind\":\"scalar\",\"type\":\"Decimal\",\"dbName\":\"avg_variance\"},{\"name\":\"medianVariance\",\"kind\":\"scalar\",\"type\":\"Decimal\",\"dbName\":\"median_variance\"},{\"name\":\"stdDevVariance\",\"kind\":\"scalar\",\"type\":\"Decimal\",\"dbName\":\"std_dev_variance\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"created_at\"}],\"dbName\":\"variance_summaries\"}},\"enums\":{},\"types\":{}}")
defineDmmfProperty(exports.Prisma, config.runtimeDataModel)
config.engineWasm = {
  getRuntime: async () => require('./query_engine_bg.js'),
  getQueryEngineWasmModule: async () => {
    const loader = (await import('#wasm-engine-loader')).default
    const engine = (await loader).default
    return engine
  }
}
config.compilerWasm = undefined

config.injectableEdgeEnv = () => ({
  parsed: {
    DATABASE_URL: typeof globalThis !== 'undefined' && globalThis['DATABASE_URL'] || typeof process !== 'undefined' && process.env && process.env.DATABASE_URL || undefined
  }
})

if (typeof globalThis !== 'undefined' && globalThis['DEBUG'] || typeof process !== 'undefined' && process.env && process.env.DEBUG || undefined) {
  Debug.enable(typeof globalThis !== 'undefined' && globalThis['DEBUG'] || typeof process !== 'undefined' && process.env && process.env.DEBUG || undefined)
}

const PrismaClient = getPrismaClient(config)
exports.PrismaClient = PrismaClient
Object.assign(exports, Prisma)

